function e(e){return Object.keys(e).reduce(((t,n)=>{const a=e[n];var o;return t[n]=Object.assign({},a),r(a.value)&&(o=a.value,"[object Function]"!==Object.prototype.toString.call(o))&&!Array.isArray(a.value)&&(t[n].value=Object.assign({},a.value)),Array.isArray(a.value)&&(t[n].value=a.value.slice(0)),t}),{})}function t(e){if(e)try{return JSON.parse(e)}catch(t){return e}}function n(e,t,n){if(null==n||!1===n)return e.removeAttribute(t);let r=JSON.stringify(n);e.__updating[t]=!0,"true"===r&&(r=""),e.setAttribute(t,r),Promise.resolve().then((()=>delete e.__updating[t]))}function r(e){return null!=e&&("object"==typeof e||"function"==typeof e)}let a;function o(r,o){const i=Object.keys(o);return class extends r{static get observedAttributes(){return i.map((e=>o[e].attribute))}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(r,a){const o=e(a);return Object.keys(a).forEach((e=>{const a=o[e],i=r.getAttribute(a.attribute),s=r[e];i&&(a.value=a.parse?t(i):i),null!=s&&(a.value=Array.isArray(s)?s.slice(0):s),a.reflect&&n(r,a.attribute,a.value),Object.defineProperty(r,e,{get:()=>a.value,set(t){const r=a.value;a.value=t,a.reflect&&n(this,a.attribute,a.value);for(let n=0,a=this.__propertyChangedCallbacks.length;n<a;n++)this.__propertyChangedCallbacks[n](e,t,r)},enumerable:!0,configurable:!0})})),o}(this,o);const r=function(e){return Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{})}(this.props),i=this.Component,s=a;try{a=this,this.__initialized=!0,"function"==typeof(l=i)&&0===l.toString().indexOf("class")?new i(r,{element:this}):i(r,{element:this})}finally{a=s}var l}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let e=null;for(;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(e,n,r){if(this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in o){if(null==r&&!this[e])return;this[e]=o[e].parse?t(r):r}}lookupProp(e){if(o)return i.find((t=>e===t||e===o[t].attribute))}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function i(e,t={},n={}){const{BaseElement:a=HTMLElement,extension:i}=n;return n=>{if(!e)throw new Error("tag is required to register a Component");let s=customElements.get(e);return s?(s.prototype.Component=n,s):(s=o(a,function(e){return e?Object.keys(e).reduce(((t,n)=>{const a=e[n];return t[n]=r(a)&&"value"in a?a:{value:a},t[n].attribute||(t[n].attribute=n.replace(/\.?([A-Z]+)/g,((e,t)=>"-"+t.toLowerCase())).replace("_","-").replace(/^-/,"")),t[n].parse="parse"in t[n]?t[n].parse:"string"!=typeof t[n].value,t}),{}):{}}(t)),s.prototype.Component=n,s.prototype.registeredTag=e,customElements.define(e,s,i),s)}}const s={};const l=Symbol("solid-proxy"),d=Symbol("solid-track"),c={equals:(e,t)=>e===t};let u=Z;const p=1,h=2,f={owned:null,cleanups:null,context:null,owner:null};var m=null;let g=null,b=null,y=null,v=null,w=0;function _(e,t){const n=b,r=m,a=0===e.length,o=a?f:{owned:null,cleanups:null,context:null,owner:void 0===t?r:t},i=a?e:()=>e((()=>T((()=>z(o)))));m=o,b=null;try{return j(i,!0)}finally{b=n,m=r}}function x(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},c,t):c).equals||void 0};return[A.bind(n),e=>("function"==typeof e&&(e=e(n.value)),I(n,e))]}function k(e,t,n){P(O(e,t,!1,p))}function C(e,t,n){u=L;const r=O(e,t,!1,p);r.user=!0,v?v.push(r):P(r)}function S(e,t,n){n=n?Object.assign({},c,n):c;const r=O(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,P(r),A.bind(r)}function T(e){if(null===b)return e();const t=b;b=null;try{return e()}finally{b=t}}function $(e){C((()=>T(e)))}function E(e){return null===m||(null===m.cleanups?m.cleanups=[e]:m.cleanups.push(e)),e}function N(e){const t=S(e),n=S((()=>V(t())));return n.toArray=()=>{const e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function A(){const e=g;if(this.sources&&(this.state||e))if(this.state===p||e)P(this);else{const e=y;y=null,j((()=>R(this)),!1),y=e}if(b){const e=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(e)):(b.sources=[this],b.sourceSlots=[e]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function I(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&j((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=g&&g.running;r&&g.disposed.has(n),(r&&!n.tState||!r&&!n.state)&&(n.pure?y.push(n):v.push(n),n.observers&&B(n)),r||(n.state=p)}if(y.length>1e6)throw y=[],new Error}),!1)),t}function P(e){if(!e.fn)return;z(e);const t=m,n=b,r=w;b=m=e,function(e,t,n){let r;try{r=e.fn(t)}catch(t){e.pure&&(e.state=p,e.owned&&e.owned.forEach(z),e.owned=null),D(t)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?I(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),b=n,m=t}function O(e,t,n,r=p,a){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:m,context:null,pure:n};return null===m||m!==f&&(m.owned?m.owned.push(o):m.owned=[o]),o}function M(e){const t=g;if(0===e.state||t)return;if(e.state===h||t)return R(e);if(e.suspense&&T(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<w);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if((e=n[r]).state===p||t)P(e);else if(e.state===h||t){const t=y;y=null,j((()=>R(e,n[0])),!1),y=t}}function j(e,t){if(y)return e();let n=!1;t||(y=[]),v?n=!0:v=[],w++;try{const t=e();return function(e){y&&(Z(y),y=null);if(e)return;const t=v;v=null,t.length&&j((()=>u(t)),!1)}(n),t}catch(e){n||(v=null),y=null,D(e)}}function Z(e){for(let t=0;t<e.length;t++)M(e[t])}function L(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:M(r)}var r;for(s.context&&(s.context=r),t=0;t<n;t++)M(e[t])}function R(e,t){const n=g;e.state=0;for(let r=0;r<e.sources.length;r+=1){const a=e.sources[r];a.sources&&(a.state===p||n?a!==t&&M(a):(a.state===h||n)&&R(a,t))}}function B(e){const t=g;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];r.state&&!t||(r.state=h,r.pure?y.push(r):v.push(r),r.observers&&B(r))}}function z(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),a=t.observerSlots.pop();n<r.length&&(e.sourceSlots[a]=n,r[n]=e,t.observerSlots[n]=a)}}if(e.owned){for(t=0;t<e.owned.length;t++)z(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function D(e){throw e=function(e){return e instanceof Error||"string"==typeof e?e:new Error("Unknown error")}(e)}function V(e){if("function"==typeof e&&!e.length)return V(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=V(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const U=Symbol("fallback");function G(e){for(let t=0;t<e.length;t++)e[t]()}function F(e,t){return T((()=>e(t||{})))}function K(){return!0}const H={get:(e,t,n)=>t===l?n:e.get(t),has:(e,t)=>t===l||e.has(t),set:K,deleteProperty:K,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:K,deleteProperty:K}),ownKeys:e=>e.keys()};function W(e){return(e="function"==typeof e?e():e)?e:{}}function Y(...e){let t=!1;for(let n=0;n<e.length;n++){const r=e[n];t=t||!!r&&l in r,e[n]="function"==typeof r?(t=!0,S(r)):r}if(t)return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=W(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in W(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(W(e[n])));return[...new Set(t)]}},H);const n={};for(let t=e.length-1;t>=0;t--)if(e[t]){const r=Object.getOwnPropertyDescriptors(e[t]);for(const t in r)t in n||Object.defineProperty(n,t,{enumerable:!0,get(){for(let n=e.length-1;n>=0;n--){const r=(e[n]||{})[t];if(void 0!==r)return r}}})}return n}function q(e,...t){const n=new Set(t.flat());if(l in e){const r=t.map((t=>new Proxy({get:n=>t.includes(n)?e[n]:void 0,has:n=>t.includes(n)&&n in e,keys:()=>t.filter((t=>t in e))},H)));return r.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},H)),r}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter((e=>!n.has(e)))),t.map((t=>{const n={};for(let a=0;a<t.length;a++){const o=t[a];o in e&&Object.defineProperty(n,o,r[o]?r[o]:{get:()=>e[o],set:()=>!0,enumerable:!0})}return n}))}function J(e){const t="fallback"in e&&{fallback:()=>e.fallback};return S(function(e,t,n={}){let r=[],a=[],o=[],i=0,s=t.length>1?[]:null;return E((()=>G(o))),()=>{let l,c,u=e()||[];return u[d],T((()=>{let e,t,d,h,f,m,g,b,y,v=u.length;if(0===v)0!==i&&(G(o),o=[],r=[],a=[],i=0,s&&(s=[])),n.fallback&&(r=[U],a[0]=_((e=>(o[0]=e,n.fallback()))),i=1);else if(0===i){for(a=new Array(v),c=0;c<v;c++)r[c]=u[c],a[c]=_(p);i=v}else{for(d=new Array(v),h=new Array(v),s&&(f=new Array(v)),m=0,g=Math.min(i,v);m<g&&r[m]===u[m];m++);for(g=i-1,b=v-1;g>=m&&b>=m&&r[g]===u[b];g--,b--)d[b]=a[g],h[b]=o[g],s&&(f[b]=s[g]);for(e=new Map,t=new Array(b+1),c=b;c>=m;c--)y=u[c],l=e.get(y),t[c]=void 0===l?-1:l,e.set(y,c);for(l=m;l<=g;l++)y=r[l],c=e.get(y),void 0!==c&&-1!==c?(d[c]=a[l],h[c]=o[l],s&&(f[c]=s[l]),c=t[c],e.set(y,c)):o[l]();for(c=m;c<v;c++)c in d?(a[c]=d[c],o[c]=h[c],s&&(s[c]=f[c],s[c](c))):a[c]=_(p);a=a.slice(0,i=v),r=u.slice(0)}return a}));function p(e){if(o[c]=e,s){const[e,n]=x(c);return s[c]=n,t(u[c],e)}return t(u[c])}}}((()=>e.each),e.children,t||void 0))}function X(e){let t=!1;const n=e.keyed,r=S((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return S((()=>{const a=r();if(a){const r=e.children,o="function"==typeof r&&r.length>0;return t=n||o,o?T((()=>r(a))):r}return e.fallback}),void 0,void 0)}function Q(e){let t=!1,n=!1;const r=N((()=>e.children)),a=S((()=>{let e=r();Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const r=e[t].when;if(r)return n=!!e[t].keyed,[t,r,e[t]]}return[-1]}),void 0,{equals:(e,n)=>e[0]===n[0]&&(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]});return S((()=>{const[r,o,i]=a();if(r<0)return e.fallback;const s=i.children,l="function"==typeof s&&s.length>0;return t=n||l,l?T((()=>s(o))):s}),void 0,void 0)}function ee(e){return e}const te=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),ne=new Set(["innerHTML","textContent","innerText","children"]),re=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ae=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),oe=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ie={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const se="_$DX_DELEGATE";function le(e,t,n){const r=document.createElement("template");r.innerHTML=e;let a=r.content.firstChild;return n&&(a=a.firstChild),a}function de(e,t=window.document){const n=t[se]||(t[se]=new Set);for(let r=0,a=e.length;r<a;r++){const a=e[r];n.has(a)||(n.add(a),t.addEventListener(a,be))}}function ce(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function ue(e,t){null==t?e.removeAttribute("class"):e.className=t}function pe(e,t={},n,r){const a={};return r||k((()=>a.children=ye(e,t.children,a.children))),k((()=>t.ref&&t.ref(e))),k((()=>function(e,t,n,r,a={},o=!1){t||(t={});for(const r in a)if(!(r in t)){if("children"===r)continue;a[r]=ge(e,r,null,a[r],n,o)}for(const i in t){if("children"===i){r||ye(e,t.children);continue}const s=t[i];a[i]=ge(e,i,s,a[i],n,o)}}(e,t,n,!0,a,!0))),a}function he(e,t,n){return T((()=>e(t,n)))}function fe(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return ye(e,t,r,n);k((r=>ye(e,t(),r,n)),r)}function me(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,a=r.length;t<a;t++)e.classList.toggle(r[t],n)}function ge(e,t,n,r,a,o){let i,s,l;if("style"===t)return function(e,t,n){if(!t)return n?ce(e,"style"):t;const r=e.style;if("string"==typeof t)return r.cssText=t;let a,o;for(o in"string"==typeof n&&(r.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[o]&&r.removeProperty(o),delete n[o];for(o in t)a=t[o],a!==n[o]&&(r.setProperty(o,a),n[o]=a);return n}(e,n,r);if("classList"===t)return function(e,t,n={}){const r=Object.keys(t||{}),a=Object.keys(n);let o,i;for(o=0,i=a.length;o<i;o++){const r=a[o];r&&"undefined"!==r&&!t[r]&&(me(e,r,!1),delete n[r])}for(o=0,i=r.length;o<i;o++){const a=r[o],i=!!t[a];a&&"undefined"!==a&&n[a]!==i&&i&&(me(e,a,!0),n[a]=i)}return n}(e,n,r);if(n===r)return r;if("ref"===t)o||n(e);else if("on:"===t.slice(0,3)){const a=t.slice(3);r&&e.removeEventListener(a,r),n&&e.addEventListener(a,n)}else if("oncapture:"===t.slice(0,10)){const a=t.slice(10);r&&e.removeEventListener(a,r,!0),n&&e.addEventListener(a,n,!0)}else if("on"===t.slice(0,2)){const a=t.slice(2).toLowerCase(),o=oe.has(a);if(!o&&r){const t=Array.isArray(r)?r[0]:r;e.removeEventListener(a,t)}(o||n)&&(!function(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n)}(e,a,n,o),o&&de([a]))}else if((l=ne.has(t))||!a&&(ae[t]||(s=te.has(t)))||(i=e.nodeName.includes("-")))"class"===t||"className"===t?ue(e,n):!i||s||l?e[ae[t]||t]=n:e[(d=t,d.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))]=n;else{const r=a&&t.indexOf(":")>-1&&ie[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):ce(e,re[t]||t,n)}var d;return n}function be(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document}),s.registry&&!s.done&&(s.done=!0,document.querySelectorAll("[id^=pl-]").forEach((t=>{for(;t&&8!==t.nodeType&&t.nodeValue!=="pl-"+e;){let e=t.nextSibling;t.remove(),t=e}t&&t.remove()})));n;){const r=n[t];if(r&&!n.disabled){const a=n[`${t}Data`];if(void 0!==a?r.call(n,a,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ye(e,t,n,r,a){for(s.context&&!n&&(n=[...e.childNodes]);"function"==typeof n;)n=n();if(t===n)return n;const o=typeof t,i=void 0!==r;if(e=i&&n[0]&&n[0].parentNode||e,"string"===o||"number"===o){if(s.context)return n;if("number"===o&&(t=t.toString()),i){let a=n[0];a&&3===a.nodeType?a.data=t:a=document.createTextNode(t),n=_e(e,n,r,a)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===o){if(s.context)return n;n=_e(e,n,r)}else{if("function"===o)return k((()=>{let a=t();for(;"function"==typeof a;)a=a();n=ye(e,a,n,r)})),()=>n;if(Array.isArray(t)){const o=[],l=n&&Array.isArray(n);if(ve(o,t,n,a))return k((()=>n=ye(e,o,n,r,!0))),()=>n;if(s.context){if(!o.length)return n;for(let e=0;e<o.length;e++)if(o[e].parentNode)return n=o}if(0===o.length){if(n=_e(e,n,r),i)return n}else l?0===n.length?we(e,o,r):function(e,t,n){let r=n.length,a=t.length,o=r,i=0,s=0,l=t[a-1].nextSibling,d=null;for(;i<a||s<o;)if(t[i]!==n[s]){for(;t[a-1]===n[o-1];)a--,o--;if(a===i){const t=o<r?s?n[s-1].nextSibling:n[o-s]:l;for(;s<o;)e.insertBefore(n[s++],t)}else if(o===s)for(;i<a;)d&&d.has(t[i])||t[i].remove(),i++;else if(t[i]===n[o-1]&&n[s]===t[a-1]){const r=t[--a].nextSibling;e.insertBefore(n[s++],t[i++].nextSibling),e.insertBefore(n[--o],r),t[a]=n[o]}else{if(!d){d=new Map;let e=s;for(;e<o;)d.set(n[e],e++)}const r=d.get(t[i]);if(null!=r)if(s<r&&r<o){let l,c=i,u=1;for(;++c<a&&c<o&&null!=(l=d.get(t[c]))&&l===r+u;)u++;if(u>r-s){const a=t[i];for(;s<r;)e.insertBefore(n[s++],a)}else e.replaceChild(n[s++],t[i++])}else i++;else t[i++].remove()}}else i++,s++}(e,n,o):(n&&_e(e),we(e,o));n=o}else if(t instanceof Node){if(s.context&&t.parentNode)return n=i?[t]:t;if(Array.isArray(n)){if(i)return n=_e(e,n,r,t);_e(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function ve(e,t,n,r){let a=!1;for(let o=0,i=t.length;o<i;o++){let i=t[o],s=n&&n[o];if(i instanceof Node)e.push(i);else if(null==i||!0===i||!1===i);else if(Array.isArray(i))a=ve(e,i,s)||a;else if("function"==typeof i)if(r){for(;"function"==typeof i;)i=i();a=ve(e,Array.isArray(i)?i:[i],Array.isArray(s)?s:[s])||a}else e.push(i),a=!0;else{const t=String(i);s&&3===s.nodeType&&s.data===t?e.push(s):e.push(document.createTextNode(t))}}return a}function we(e,t,n=null){for(let r=0,a=t.length;r<a;r++)e.insertBefore(t[r],n)}function _e(e,t,n,r){if(void 0===n)return e.textContent="";const a=r||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(a!==i){const t=i.parentNode===e;r||o?t&&i.remove():t?e.replaceChild(a,i):e.insertBefore(a,n)}else r=!0}}else e.insertBefore(a,n);return[a]}function xe(e){return(t,n)=>{const{element:r}=n;return _((a=>{const o=function(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[a,o]=x(e[t[r]]);Object.defineProperty(n,t[r],{get:a,set(e){o((()=>e))}})}return n}(t);r.addPropertyChangedCallback(((e,t)=>o[e]=t)),r.addReleaseCallback((()=>{r.renderRoot.textContent="",a()}));const i=e(o,n);return fe(r.renderRoot,i)}),function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}(r))}}function ke(e,t,n){return 2===arguments.length&&(n=t,t={}),i(e,t)(xe(n))}const Ce={typebot:"",onNewInputBlock:void 0,onAnswer:void 0,onEnd:void 0,onInit:void 0,onNewLogs:void 0,isPreview:void 0,startGroupId:void 0,prefilledVariables:void 0,apiHost:void 0,resultId:void 0},Se={...Ce,onClose:void 0,onOpen:void 0,theme:void 0,autoShowDelay:void 0,isOpen:void 0,defaultOpen:void 0},Te={...Ce,onClose:void 0,onOpen:void 0,theme:void 0,previewMessage:void 0};var $e='/*! tailwindcss v3.2.7 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{bottom:0;left:0;right:0;top:0}.-right-1{right:-.25rem}.-right-3{right:-.75rem}.-top-3{top:-.75rem}.bottom-20{bottom:5rem}.bottom-4{bottom:1rem}.left-0{left:0}.right-0{right:0}.right-4{right:1rem}.top-0{top:0}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.m-2{margin:.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.my-2{margin-bottom:.5rem;margin-top:.5rem}.-ml-1{margin-left:-.25rem}.-mr-1{margin-right:-.25rem}.-mt-1{margin-top:-.25rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.ml-2{margin-left:.5rem}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-1{margin-top:.25rem}.mt-4{margin-top:1rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-10{height:2.5rem}.h-12{height:3rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-3{height:.75rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-\\[80vh\\]{height:80vh}.h-full{height:100%}.max-h-\\[704px\\]{max-height:704px}.min-h-full{min-height:100%}.w-10{width:2.5rem}.w-12{width:3rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-auto{width:auto}.w-full{width:100%}.min-w-0{min-width:0}.max-w-full{max-width:100%}.max-w-lg{max-width:32rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-rotate-180{--tw-rotate:-180deg}.-rotate-180,.rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-y-scroll{overflow-y:scroll}.scroll-smooth{scroll-behavior:smooth}.text-ellipsis{text-overflow:ellipsis}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.border-2{border-width:2px}.border-dashed{border-style:dashed}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-cover{background-size:cover}.fill-transparent{fill:transparent}.stroke-2{stroke-width:2}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25rem}.p-4{padding:1rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-4{padding-bottom:1rem;padding-top:1rem}.py-6{padding-bottom:1.5rem;padding-top:1.5rem}.pb-0{padding-bottom:0}.pl-2{padding-left:.5rem}.pr-2{padding-right:.5rem}.pt-10{padding-top:2.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1.5rem;line-height:1.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-normal{font-weight:400}.font-semibold{font-weight:600}.text-blue-500{--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-75{opacity:.75}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.brightness-200{--tw-brightness:brightness(2)}.brightness-200,.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-100{transition-duration:.1s}.duration-200{transition-duration:.2s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:host{--typebot-container-bg-image:none;--typebot-container-bg-color:transparent;--typebot-container-font-family:"Open Sans";--typebot-button-bg-color:#0042da;--typebot-button-color:#fff;--typebot-host-bubble-bg-color:#f7f8ff;--typebot-host-bubble-color:#303235;--typebot-guest-bubble-bg-color:#ff8e21;--typebot-guest-bubble-color:#fff;--typebot-input-bg-color:#fff;--typebot-input-color:#303235;--typebot-input-placeholder-color:#9095a0;--typebot-header-bg-color:#fff;--typebot-header-color:#303235;--PhoneInputCountryFlag-borderColor:transparent;--PhoneInput-color--focus:transparent}.scrollable-container::-webkit-scrollbar{display:none}.scrollable-container{-ms-overflow-style:none;scrollbar-width:none}.text-fade-in{transition:opacity .4s ease-in .2s}.bubble-typing{transition:width .4s ease-out,height .4s ease-out}.bubble1,.bubble2,.bubble3{background-color:var(--typebot-host-bubble-color);opacity:.5}.bubble1,.bubble2{animation:chatBubbles 1s ease-in-out infinite}.bubble2{animation-delay:.3s}.bubble3{animation:chatBubbles 1s ease-in-out infinite;animation-delay:.5s}@keyframes chatBubbles{0%{transform:translateY(0)}50%{transform:translateY(-5px)}to{transform:translateY(0)}}button,input,textarea{font-weight:300}.slate-a{text-decoration:underline}.slate-html-container>div{min-height:24px}.slate-bold{font-weight:700}.slate-italic{font-style:oblique}.slate-underline{text-decoration:underline}.text-input::-moz-placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.text-input::placeholder{color:var(--typebot-input-placeholder-color)!important;opacity:1!important}.typebot-container{background-color:var(--typebot-container-bg-color);background-image:var(--typebot-container-bg-image);font-family:var(--typebot-container-font-family),-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.custom-header{background-color:var(--typebot-header-bg-color);color:var(--typebot-header-color)}.typebot-button{background-color:var(--typebot-button-bg-color);color:var(--typebot-button-color)}.typebot-button,.typebot-button.selectable{border:1px solid var(--typebot-button-bg-color)}.typebot-button.selectable{background-color:var(--typebot-host-bubble-bg-color)}.typebot-button.selectable,.typebot-host-bubble{color:var(--typebot-host-bubble-color)}.typebot-host-bubble>.bubble-typing{background-color:var(--typebot-host-bubble-bg-color);border:var(--typebot-host-bubble-border)}.typebot-guest-bubble{background-color:var(--typebot-guest-bubble-bg-color);color:var(--typebot-guest-bubble-color)}.typebot-input{background-color:var(--typebot-input-bg-color);box-shadow:0 2px 6px -1px rgba(0,0,0,.1)}.typebot-input,.typebot-input-error-message{color:var(--typebot-input-color)}.typebot-button>.send-icon{fill:var(--typebot-button-color)}.typebot-chat-view{max-width:800px}.ping span{background-color:var(--typebot-button-bg-color)}.rating-icon-container svg{stroke:var(--typebot-button-bg-color);fill:var(--typebot-host-bubble-bg-color);height:42px;transition:fill .1s ease-out;width:42px}.rating-icon-container.selected svg{fill:var(--typebot-button-bg-color)}.rating-icon-container:hover svg{filter:brightness(.9)}.rating-icon-container:active svg{filter:brightness(.75)}.total-files-indicator,.upload-progress-bar{background-color:var(--typebot-button-bg-color)}.total-files-indicator{color:var(--typebot-button-color);font-size:10px}.typebot-upload-input{transition:border-color .1s ease-out}.typebot-upload-input.dragging-over{border-color:var(--typebot-button-bg-color)}.secondary-button{background-color:var(--typebot-host-bubble-bg-color);color:var(--typebot-host-bubble-color)}.typebot-country-select{background-color:var(--typebot-input-bg-color);color:var(--typebot-input-color)}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:brightness-90:hover{--tw-brightness:brightness(.9)}.hover\\:brightness-90:hover,.hover\\:brightness-95:hover{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\\:brightness-95:hover{--tw-brightness:brightness(.95)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:brightness-75:active{--tw-brightness:brightness(.75)}.active\\:brightness-75:active,.active\\:brightness-90:active{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.active\\:brightness-90:active{--tw-brightness:brightness(.9)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:brightness-100:disabled{--tw-brightness:brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}@media (min-width:640px){.sm\\:right-4{right:1rem}.sm\\:my-8{margin-bottom:2rem;margin-top:2rem}.sm\\:w-\\[400px\\]{width:400px}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:p-0{padding:0}}@media (min-width:1024px){.lg\\:w-11\\/12{width:91.666667%}}';let Ee,Ne,Ae,Ie;!function(e){e.TEXT="text input",e.NUMBER="number input",e.EMAIL="email input",e.URL="url input",e.DATE="date input",e.PHONE="phone number input",e.CHOICE="choice input",e.PAYMENT="payment input",e.RATING="rating input",e.FILE="file input"}(Ee||(Ee={})),function(e){e.TEXT="text",e.IMAGE="image",e.VIDEO="video",e.EMBED="embed",e.AUDIO="audio"}(Ne||(Ne={})),function(e){e.SET_VARIABLE="Set variable",e.CONDITION="Condition",e.REDIRECT="Redirect",e.SCRIPT="Code",e.TYPEBOT_LINK="Typebot link",e.WAIT="Wait"}(Ae||(Ae={})),function(e){e.GOOGLE_SHEETS="Google Sheets",e.GOOGLE_ANALYTICS="Google Analytics",e.WEBHOOK="Webhook",e.EMAIL="Email",e.ZAPIER="Zapier",e.MAKE_COM="Make.com",e.PABBLY_CONNECT="Pabbly",e.CHATWOOT="Chatwoot"}(Ie||(Ie={}));const Pe=async e=>{try{const t="string"==typeof e?e:e.url,n=await fetch(t,{method:"string"==typeof e?"GET":e.method,mode:"cors",headers:"string"!=typeof e&&Oe(e.body)?{"Content-Type":"application/json"}:void 0,body:"string"!=typeof e&&Oe(e.body)?JSON.stringify(e.body):void 0}),r=await n.json();if(!n.ok)throw"error"in r?r.error:r;return{data:r}}catch(e){return console.error(e),{error:e}}},Oe=e=>null!=e,Me=e=>null==e,je=e=>null==e||""===e,Ze=e=>null!=e&&""!==e,Le=async({basePath:e="/api",files:t,onUploadProgress:n})=>{const r=[];let a=0;for(const{file:o,path:i}of t){n&&n(a/t.length*100),a+=1;const{data:s}=await Pe(`${e}/storage/upload-url?filePath=${encodeURIComponent(i)}&fileType=${o.type}`);if(!s?.presignedUrl)continue;const{url:l,fields:d}=s.presignedUrl;if(s.hasReachedStorageLimit)r.push(null);else{const e=new FormData;Object.entries({...d,file:o}).forEach((([t,n])=>{e.append(t,n)}));if(!(await fetch(l,{method:"POST",body:e})).ok)continue;r.push(`${l.split("?")[0]}/${i}`)}}return r},Re=le('<svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>'),Be=le('<img class="w-7 h-7 rounded-full object-cover" alt="Bubble button icon">'),ze=le('<button class="fixed bottom-4 right-4 shadow-md w-12 h-12 rounded-full hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in"><svg viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z"></path></svg></button>'),De=e=>(()=>{const t=ze.cloneNode(!0),n=t.firstChild;return t.$$click=()=>e.toggleBot(),t.style.setProperty("z-index","42424242"),fe(t,F(X,{get when(){return Me(e.customIconSrc)},keyed:!0,get children(){const t=Re.cloneNode(!0);return k((n=>{const r=e.iconColor??"white",a="w-7 stroke-2 fill-transparent absolute duration-200 transition "+(e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100");return r!==n._v$&&t.style.setProperty("stroke",n._v$=r),a!==n._v$2&&ce(t,"class",n._v$2=a),n}),{_v$:void 0,_v$2:void 0}),t}}),n),fe(t,F(X,{get when(){return e.customIconSrc},get children(){const t=Be.cloneNode(!0);return k((()=>ce(t,"src",e.customIconSrc))),t}}),n),k((r=>{const a=e.backgroundColor??"#5107ed",o=e.iconColor??"white",i="w-7 absolute duration-200 transition "+(e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0");return a!==r._v$3&&t.style.setProperty("background-color",r._v$3=a),o!==r._v$4&&n.style.setProperty("fill",r._v$4=o),i!==r._v$5&&ce(n,"class",r._v$5=i),r}),{_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})();de(["click"]);const Ve=le('<div class="fixed bottom-20 right-4 w-64 rounded-md duration-200 flex items-center gap-4 shadow-md animate-fade-in cursor-pointer hover:shadow-lg p-4"><button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button><img class="rounded-full w-8 h-8 object-cover" alt="Bot avatar"><p></p></div>'),Ue="#F7F8FF",Ge="#303235",Fe=e=>{const[t,n]=x(!1);return(()=>{const r=Ve.cloneNode(!0),a=r.firstChild,o=a.nextSibling,i=o.nextSibling;return r.addEventListener("mouseleave",(()=>n(!1))),r.addEventListener("mouseenter",(()=>n(!0))),r.$$click=()=>e.onClick(),r.style.setProperty("z-index","42424242"),a.$$click=t=>(t.stopPropagation(),e.onCloseClick()),fe(i,(()=>e.message)),k((n=>{const i=e.previewMessageTheme?.backgroundColor??Ue,s=e.previewMessageTheme?.textColor??Ge,l="absolute -top-3 -right-3 rounded-full w-6 h-6 p-1 hover:brightness-95 active:brightness-90 transition-all "+(t()?"opacity-100":"opacity-0"),d=e.previewMessageTheme?.closeButtonBackgroundColor??Ue,c=e.previewMessageTheme?.closeButtonIconColor??Ge,u=e.avatarUrl;return i!==n._v$&&r.style.setProperty("background-color",n._v$=i),s!==n._v$2&&r.style.setProperty("color",n._v$2=s),l!==n._v$3&&ue(a,n._v$3=l),d!==n._v$4&&a.style.setProperty("background-color",n._v$4=d),c!==n._v$5&&a.style.setProperty("color",n._v$5=c),u!==n._v$6&&ce(o,"src",n._v$6=u),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r})()};de(["click"]);const Ke=le('<a href="https://www.typebot.io/?utm_source=litebadge" target="_blank" rel="noopener noreferrer" class="absolute py-1 px-2 bg-white z-50 rounded shadow-md lite-badge text-gray-900" id="lite-badge">Made with <span class="text-blue-500">Typebot</span>.</a>'),He=e=>{let t,n;return $((()=>{document&&e.botContainer&&(n=new MutationObserver((function(n){n.forEach((function(n){n.removedNodes.forEach((function(n){"id"in n&&t&&"lite-badge"==n.id&&e.botContainer?.append(t)}))}))})),n.observe(e.botContainer,{subtree:!1,childList:!0}))})),E((()=>{n&&n.disconnect()})),(()=>{const e=Ke.cloneNode(!0);return"function"==typeof t?he(t,e):t=e,e.style.setProperty("bottom","20px"),e})()},We=()=>((e="")=>"undefined"==typeof window?je(process.env["NEXT_PUBLIC_"+e])?void 0:process.env["NEXT_PUBLIC_"+e]:"undefined"!=typeof window&&window.__env?je(window.__env[e])?void 0:window.__env[e]:void 0)("VIEWER_URL")?.split(",")[0]??"https://viewer.typebot.io";const[Ye,qe]=x(),Je=le('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="19px" color="white"><path d="M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z"></path></svg>'),Xe=e=>(()=>{const t=Je.cloneNode(!0);return pe(t,e,!0,!0),t})(),Qe=le('<button type="submit"></button>'),et=le('<svg><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),tt=e=>(()=>{const t=Qe.cloneNode(!0);return pe(t,Y({get disabled(){return e.isDisabled||e.isLoading}},e,{get class(){return"py-2 px-4 justify-center font-semibold rounded-md text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 typebot-button "+e.class}}),!1,!0),fe(t,F(X,{get when(){return!e.isLoading},get fallback(){return F(nt,{class:"text-white"})},get children(){return S((()=>!(!Ye()||e.disableIcon)))()?F(Xe,{get class(){return"send-icon flex "+(e.disableIcon?"hidden":"")}}):e.children}})),t})(),nt=e=>(()=>{const t=et.cloneNode(!0);return pe(t,Y(e,{get class(){return"animate-spin -ml-1 mr-3 h-5 w-5 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t})(),rt=le('<div class="flex items-center"><div class="w-2 h-2 mr-1 rounded-full bubble1"></div><div class="w-2 h-2 mr-1 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3"></div></div>'),at=()=>rt.cloneNode(!0),ot=le('<input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" type="text">'),it=e=>{const[t,n]=q(e,["ref","onInput"]);return(()=>{const r=ot.cloneNode(!0);r.$$input=e=>t.onInput(e.currentTarget.value);const a=e.ref;return"function"==typeof a?he(a,r):e.ref=r,r.style.setProperty("font-size","16px"),pe(r,n,!1,!1),r})()};de(["input"]);const st=le('<textarea class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input" rows="6" data-testid="textarea" required></textarea>'),lt=e=>{const[t,n]=q(e,["ref","onInput"]);return(()=>{const e=st.cloneNode(!0);e.$$input=e=>t.onInput(e.currentTarget.value);const r=t.ref;return"function"==typeof r?he(r,e):t.ref=e,e.style.setProperty("font-size","16px"),pe(e,Y({get autofocus(){return!Ye()}},n),!1,!1),e})()};de(["input"]);const dt=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full lg:w-11/12 items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 rounded-lg bubble-typing z-10 "></div><audio autoplay controls></audio></div></div></div>');let ct;const ut=e=>{const[t,n]=x(!0);return $((()=>{ct=setTimeout((()=>{n(!1),setTimeout((()=>{e.onTransitionEnd()}),400)}),500)})),E((()=>{ct&&clearTimeout(ct)})),(()=>{const n=dt.cloneNode(!0),r=n.firstChild.firstChild.firstChild,a=r.nextSibling;return fe(r,(()=>{const e=S((()=>!!t()));return()=>e()&&F(at,{})})()),k((n=>{const o=t()?"4rem":"100%",i=t()?"2rem":"100%",s=e.url,l="z-10 text-fade-in m-2 "+(t()?"opacity-0":"opacity-100"),d=t()?"2rem":"revert";return o!==n._v$&&r.style.setProperty("width",n._v$=o),i!==n._v$2&&r.style.setProperty("height",n._v$2=i),s!==n._v$3&&ce(a,"src",n._v$3=s),l!==n._v$4&&ue(a,n._v$4=l),d!==n._v$5&&a.style.setProperty("height",n._v$5=d),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),n})()},pt=le('<div class="flex flex-col w-full animate-fade-in"><div class="flex mb-2 w-full lg:w-11/12 items-center"><div class="flex relative z-10 items-start typebot-host-bubble w-full"><div class="flex items-center absolute px-4 py-2 rounded-lg bubble-typing z-10 "></div><iframe id="embed-bubble-content"></iframe></div></div></div>'),ht=e=>{const[t,n]=x(!0);return $((()=>{setTimeout((()=>{n(!1),setTimeout((()=>{e.onTransitionEnd()}),400)}),1e3)})),(()=>{const n=pt.cloneNode(!0),r=n.firstChild.firstChild.firstChild,a=r.nextSibling;return fe(r,(()=>{const e=S((()=>!!t()));return()=>e()&&F(at,{})})()),k((n=>{const o=t()?"4rem":"100%",i=t()?"2rem":"100%",s=e.content.url,l="w-full z-20 p-4 text-fade-in rounded-2xl "+(t()?"opacity-0":"opacity-100"),d=t()?"2rem":`${e.content.height}px`;return o!==n._v$&&r.style.setProperty("width",n._v$=o),i!==n._v$2&&r.style.setProperty("height",n._v$2=i),s!==n._v$3&&ce(a,"src",n._v$3=s),l!==n._v$4&&ue(a,n._v$4=l),d!==n._v$5&&a.style.setProperty("height",n._v$5=d),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),n})()},ft=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full lg:w-11/12 items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 rounded-lg bubble-typing z-10 "></div><figure class="p-4 z-10"><img alt="Bubble image"></figure></div></div></div>'),mt=e=>{let t;const[n,r]=x(!0),a=()=>{r(!1),setTimeout((()=>{e.onTransitionEnd()}),400)};return $((()=>{if(!t)return;const e=setTimeout((()=>{r(!1),a()}),5e3);t.onload=()=>{clearTimeout(e),r(!1),a()}})),(()=>{const r=ft.cloneNode(!0),a=r.firstChild.firstChild.firstChild,o=a.nextSibling.firstChild;fe(a,(()=>{const e=S((()=>!!n()));return()=>e()?F(at,{}):null})());return"function"==typeof t?he(t,o):t=o,o.style.setProperty("max-height","32rem"),k((t=>{const r=n()?"4rem":"100%",i=n()?"2rem":"100%",s=e.url,l="text-fade-in w-auto rounded-md max-w-full "+(n()?"opacity-0":"opacity-100"),d=n()?"2rem":"auto";return r!==t._v$&&a.style.setProperty("width",t._v$=r),i!==t._v$2&&a.style.setProperty("height",t._v$2=i),s!==t._v$3&&ce(o,"src",t._v$3=s),l!==t._v$4&&ue(o,t._v$4=l),d!==t._v$5&&o.style.setProperty("height",t._v$5=d),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()},gt=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 rounded-lg bubble-typing " data-testid="host-bubble"></div><p></p></div></div></div>'),bt={enabled:!0,speed:300,maxDelay:1.5},yt=e=>{const[t,n]=x(!0);return $((()=>{if(!t)return;const r=((e,t)=>{let n=e.match(/(\w+)/g)?.length??0;0===n&&(n=e.length);const r=t.speed;let a=t.enabled?n/r*6e4:0;return a>1e3*t.maxDelay&&(a=1e3*t.maxDelay),a})(e.content.plainText,e.typingEmulation??bt);setTimeout((()=>{n(!1),setTimeout((()=>{e.onTransitionEnd()}),400)}),r)})),(()=>{const n=gt.cloneNode(!0),r=n.firstChild.firstChild.firstChild,a=r.nextSibling;return fe(r,(()=>{const e=S((()=>!!t()));return()=>e()&&F(at,{})})()),k((n=>{const o=t()?"4rem":"100%",i=t()?"2rem":"100%",s="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative text-ellipsis "+(t()?"opacity-0 h-6":"opacity-100 h-full"),l=e.content.html;return o!==n._v$&&r.style.setProperty("width",n._v$=o),i!==n._v$2&&r.style.setProperty("height",n._v$2=i),s!==n._v$3&&ue(a,n._v$3=s),l!==n._v$4&&(a.innerHTML=n._v$4=l),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()};let vt;!function(e){e.URL="url",e.YOUTUBE="youtube",e.VIMEO="vimeo"}(vt||(vt={}));const wt=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full lg:w-11/12 items-center"><div class="flex relative z-10 items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 rounded-lg bubble-typing z-10 "></div></div></div></div>'),_t=le('<video controls autoplay><source type="video/mp4">Sorry, your browser doesn&apos;t support embedded videos.</video>'),xt=le('<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'),kt=e=>{const[t,n]=x(!0),r=()=>{setTimeout((()=>{n(!1),n(!1),setTimeout((()=>{e.onTransitionEnd()}),400)}),1e3)};return $((()=>{t&&r()})),(()=>{const n=wt.cloneNode(!0),r=n.firstChild.firstChild,a=r.firstChild;return fe(a,(()=>{const e=S((()=>!!t()));return()=>e()&&F(at,{})})()),fe(r,F(Ct,{get content(){return e.content},get isTyping(){return t()}}),null),k((e=>{const n=t()?"4rem":"100%",r=t()?"2rem":"100%";return n!==e._v$&&a.style.setProperty("width",e._v$=n),r!==e._v$2&&a.style.setProperty("height",e._v$2=r),e}),{_v$:void 0,_v$2:void 0}),n})()},Ct=e=>F(Q,{get children(){return[F(ee,{get when(){return e.content?.type&&e.content.type===vt.URL},get children(){const t=_t.cloneNode(!0),n=t.firstChild;return k((r=>{const a="p-4 focus:outline-none w-full z-10 text-fade-in rounded-md "+(e.isTyping?"opacity-0":"opacity-100"),o=e.isTyping?"2rem":"auto",i=window.navigator.vendor.match(/apple/i)?"40vh":"",s=e.content.url;return a!==r._v$3&&ue(t,r._v$3=a),o!==r._v$4&&t.style.setProperty("height",r._v$4=o),i!==r._v$5&&t.style.setProperty("max-height",r._v$5=i),s!==r._v$6&&ce(n,"src",r._v$6=s),r}),{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),t}}),F(ee,{get when(){return S((()=>!!e.content?.type))()&&[vt.VIMEO,vt.YOUTUBE].includes(e.content.type)},get children(){const t=xt.cloneNode(!0);return k((n=>{const r=`${e.content.type===vt.VIMEO?"https://player.vimeo.com/video":"https://www.youtube.com/embed"}/${e.content.id}`,a="w-full p-4 text-fade-in z-10 rounded-md "+(e.isTyping?"opacity-0":"opacity-100"),o=e.isTyping?"2rem":"200px";return r!==n._v$7&&ce(t,"src",n._v$7=r),a!==n._v$8&&ue(t,n._v$8=a),o!==n._v$9&&ce(t,"height",n._v$9=o),n}),{_v$7:void 0,_v$8:void 0,_v$9:void 0}),t}})]}}),St=e=>{const t=()=>{e.onTransitionEnd()};return F(Q,{get children(){return[F(ee,{get when(){return e.message.type===Ne.TEXT},get children(){return F(yt,{get content(){return e.message.content},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ne.IMAGE},get children(){return F(mt,{get url(){return e.message.content.url},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ne.VIDEO},get children(){return F(kt,{get content(){return e.message.content},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ne.EMBED},get children(){return F(ht,{get content(){return e.message.content},onTransitionEnd:t})}}),F(ee,{get when(){return e.message.type===Ne.AUDIO},get children(){return F(ut,{get url(){return e.message.content.url},onTransitionEnd:t})}})]}})},Tt=le('<figure data-testid="default-avatar"><svg width="75" height="75" viewBox="0 0 75 75" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0" x="0" y="0" mask-type="alpha"><circle cx="37.5" cy="37.5" r="37.5" fill="#0042DA"></circle></mask><g mask="url(#mask0)"><rect x="-30" y="-43" width="131" height="154" fill="#0042DA"></rect><rect x="2.50413" y="120.333" width="81.5597" height="86.4577" rx="2.5" transform="rotate(-52.6423 2.50413 120.333)" stroke="#FED23D" stroke-width="5"></rect><circle cx="76.5" cy="-1.5" r="29" stroke="#FF8E20" stroke-width="5"></circle><path d="M-49.8224 22L-15.5 -40.7879L18.8224 22H-49.8224Z" stroke="#F7F8FF" stroke-width="5"></path></g></svg></figure>'),$t=()=>(()=>{const e=Tt.cloneNode(!0),t=e.firstChild;return k((n=>{const r="flex justify-center items-center rounded-full text-white relative "+(Ye()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),a="absolute top-0 left-0 "+(Ye()?" w-6 h-6 text-sm":"w-full h-full text-xl");return r!==n._v$&&ue(e,n._v$=r),a!==n._v$2&&ce(t,"class",n._v$2=a),n}),{_v$:void 0,_v$2:void 0}),e})(),Et=le('<figure><img alt="Bot avatar" class="rounded-full object-cover w-full h-full"></figure>'),Nt=e=>{const[t]=x(e.initialAvatarSrc);return F(X,{get when(){return Ze(t())},keyed:!0,fallback:()=>F($t,{}),get children(){const e=Et.cloneNode(!0),n=e.firstChild;return k((r=>{const a="flex justify-center items-center rounded-full text-white relative animate-fade-in flex-shrink-0 "+(Ye()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),o=t();return a!==r._v$&&ue(e,r._v$=a),o!==r._v$2&&ce(n,"src",r._v$2=o),r}),{_v$:void 0,_v$2:void 0}),e}})},At=le('<div class="flex justify-end mb-2 items-end animate-fade-in"><span class="px-4 py-2 rounded-lg mr-2 whitespace-pre-wrap max-w-full typebot-guest-bubble" data-testid="guest-bubble"></span></div>'),It=e=>(()=>{const t=At.cloneNode(!0),n=t.firstChild;return t.style.setProperty("margin-left","50px"),fe(n,(()=>e.message)),fe(t,F(X,{get when(){return e.showAvatar},get children(){return F(Nt,{get initialAvatarSrc(){return e.avatarSrc}})}}),null),t})(),Pt=le('<div class="flex items-end justify-between rounded-lg pr-2 typebot-input w-full" data-testid="input"></div>'),Ot=e=>{const[t,n]=x(e.defaultValue??"");let r;const a=e=>n(e),o=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=t=>{e.block.options.isLong||"Enter"===t.key&&o()};return $((()=>{!Ye()&&r&&r.focus()})),(()=>{const n=Pt.cloneNode(!0);return n.$$keydown=i,fe(n,(()=>{const n=S((()=>!!e.block.options.isLong));return()=>n()?F(lt,{ref(e){"function"==typeof r?r(e):r=e},onInput:a,get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your answer..."}}):F(it,{ref(e){"function"==typeof r?r(e):r=e},onInput:a,get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your answer..."}})})(),null),fe(n,F(tt,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":o,get children(){return e.block.options?.labels?.button??"Send"}}),null),k((t=>{const r=e.hasGuestAvatar?"50px":"0.5rem",a=e.block.options.isLong?void 0:"350px";return r!==t._v$&&n.style.setProperty("margin-right",t._v$=r),a!==t._v$2&&n.style.setProperty("max-width",t._v$2=a),t}),{_v$:void 0,_v$2:void 0}),n})()};de(["keydown"]);const Mt=le('<div class="flex items-end justify-between rounded-lg pr-2 typebot-input w-full" data-testid="input"></div>'),jt=e=>{const[t,n]=x(e.defaultValue??"");let r;const a=e=>n(e),o=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=e=>{"Enter"===e.key&&o()};return $((()=>{!Ye()&&r&&r.focus()})),(()=>{const n=Mt.cloneNode(!0);return n.$$keydown=i,n.style.setProperty("max-width","350px"),fe(n,F(it,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your answer..."},onInput:a,type:"number",style:{appearance:"auto"},get min(){return e.block.options?.min},get max(){return e.block.options?.max},get step(){return e.block.options?.step??"any"}}),null),fe(n,F(tt,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":o,get children(){return e.block.options?.labels?.button??"Send"}}),null),k((()=>n.style.setProperty("margin-right",e.hasGuestAvatar?"50px":"0.5rem"))),n})()};de(["keydown"]);const Zt=le('<div class="flex items-end justify-between rounded-lg pr-2 typebot-input w-full" data-testid="input"></div>'),Lt=e=>{const[t,n]=x(e.defaultValue??"");let r;const a=e=>n(e),o=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=e=>{"Enter"===e.key&&o()};return $((()=>{!Ye()&&r&&r.focus()})),(()=>{const n=Zt.cloneNode(!0);return n.$$keydown=i,n.style.setProperty("max-width","350px"),fe(n,F(it,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your email..."},onInput:a,type:"email",autocomplete:"email"}),null),fe(n,F(tt,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":o,get children(){return e.block.options?.labels?.button??"Send"}}),null),k((()=>n.style.setProperty("margin-right",e.hasGuestAvatar?"50px":"0.5rem"))),n})()};de(["keydown"]);const Rt=le('<div class="flex items-end justify-between rounded-lg pr-2 typebot-input w-full" data-testid="input"></div>'),Bt=e=>{const[t,n]=x(e.defaultValue??"");let r;const a=e=>{if(!e.startsWith("https://"))return"https:/"===e?void 0:n(`https://${e}`);n(e)},o=()=>{""!==t()&&r?.reportValidity()&&e.onSubmit({value:t()})},i=e=>{"Enter"===e.key&&o()};return $((()=>{!Ye()&&r&&r.focus()})),(()=>{const n=Rt.cloneNode(!0);return n.$$keydown=i,n.style.setProperty("max-width","350px"),fe(n,F(it,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??"Type your URL..."},onInput:a,type:"url",autocomplete:"url"}),null),fe(n,F(tt,{type:"button",get isDisabled(){return""===t()},class:"my-2 ml-2","on:click":o,get children(){return e.block.options?.labels?.button??"Send"}}),null),k((()=>n.style.setProperty("margin-right",e.hasGuestAvatar?"50px":"0.5rem"))),n})()};de(["keydown"]);const zt=[{name:"International",flag:"🌐",code:"INT",dial_code:null},{name:"Afghanistan",flag:"🇦🇫",code:"AF",dial_code:"+93"},{name:"Åland Islands",flag:"🇦🇽",code:"AX",dial_code:"+358"},{name:"Albania",flag:"🇦🇱",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"🇩🇿",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"🇦🇸",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"🇦🇩",code:"AD",dial_code:"+376"},{name:"Angola",flag:"🇦🇴",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"🇦🇮",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"🇦🇶",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"🇦🇬",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"🇦🇷",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"🇦🇲",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"🇦🇼",code:"AW",dial_code:"+297"},{name:"Australia",flag:"🇦🇺",code:"AU",dial_code:"+61"},{name:"Austria",flag:"🇦🇹",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"🇦🇿",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"🇧🇸",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"🇧🇭",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"🇧🇩",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"🇧🇧",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"🇧🇾",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"🇧🇪",code:"BE",dial_code:"+32"},{name:"Belize",flag:"🇧🇿",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"🇧🇯",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"🇧🇲",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"🇧🇹",code:"BT",dial_code:"+975"},{name:"Bolivia, Plurinational State of bolivia",flag:"🇧🇴",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"🇧🇦",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"🇧🇼",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"🇧🇻",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"🇧🇷",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"🇮🇴",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"🇧🇳",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"🇧🇬",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"🇧🇫",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"🇧🇮",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"🇰🇭",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"🇨🇲",code:"CM",dial_code:"+237"},{name:"Canada",flag:"🇨🇦",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"🇨🇻",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"🇰🇾",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"🇨🇫",code:"CF",dial_code:"+236"},{name:"Chad",flag:"🇹🇩",code:"TD",dial_code:"+235"},{name:"Chile",flag:"🇨🇱",code:"CL",dial_code:"+56"},{name:"China",flag:"🇨🇳",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"🇨🇽",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"🇨🇨",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"🇨🇴",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"🇰🇲",code:"KM",dial_code:"+269"},{name:"Congo",flag:"🇨🇬",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the Congo",flag:"🇨🇩",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"🇨🇰",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"🇨🇷",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"🇨🇮",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"🇭🇷",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"🇨🇺",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"🇨🇾",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"🇨🇿",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"🇩🇰",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"🇩🇯",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"🇩🇲",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"🇩🇴",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"🇪🇨",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"🇪🇬",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"🇸🇻",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"🇬🇶",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"🇪🇷",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"🇪🇪",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"🇪🇹",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"🇫🇰",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"🇫🇴",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"🇫🇯",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"🇫🇮",code:"FI",dial_code:"+358"},{name:"France",flag:"🇫🇷",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"🇬🇫",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"🇵🇫",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"🇹🇫",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"🇬🇦",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"🇬🇲",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"🇬🇪",code:"GE",dial_code:"+995"},{name:"Germany",flag:"🇩🇪",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"🇬🇭",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"🇬🇮",code:"GI",dial_code:"+350"},{name:"Greece",flag:"🇬🇷",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"🇬🇱",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"🇬🇩",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"🇬🇵",code:"GP",dial_code:"+590"},{name:"Guam",flag:"🇬🇺",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"🇬🇹",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"🇬🇬",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"🇬🇳",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"🇬🇼",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"🇬🇾",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"🇭🇹",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"🇭🇲",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"🇻🇦",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"🇭🇳",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"🇭🇰",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"🇭🇺",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"🇮🇸",code:"IS",dial_code:"+354"},{name:"India",flag:"🇮🇳",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"🇮🇩",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of Persian Gulf",flag:"🇮🇷",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"🇮🇶",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"🇮🇪",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"🇮🇲",code:"IM",dial_code:"+44"},{name:"Israel",flag:"🇮🇱",code:"IL",dial_code:"+972"},{name:"Italy",flag:"🇮🇹",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"🇯🇲",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"🇯🇵",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"🇯🇪",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"🇯🇴",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"🇰🇿",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"🇰🇪",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"🇰🇮",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of Korea",flag:"🇰🇵",code:"KP",dial_code:"+850"},{name:"Korea, Republic of South Korea",flag:"🇰🇷",code:"KR",dial_code:"+82"},{name:"Kosovo",flag:"🇽🇰",code:"XK",dial_code:"+383"},{name:"Kuwait",flag:"🇰🇼",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"🇰🇬",code:"KG",dial_code:"+996"},{name:"Laos",flag:"🇱🇦",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"🇱🇻",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"🇱🇧",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"🇱🇸",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"🇱🇷",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"🇱🇾",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"🇱🇮",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"🇱🇹",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"🇱🇺",code:"LU",dial_code:"+352"},{name:"Macao",flag:"🇲🇴",code:"MO",dial_code:"+853"},{name:"Macedonia",flag:"🇲🇰",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"🇲🇬",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"🇲🇼",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"🇲🇾",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"🇲🇻",code:"MV",dial_code:"+960"},{name:"Mali",flag:"🇲🇱",code:"ML",dial_code:"+223"},{name:"Malta",flag:"🇲🇹",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"🇲🇭",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"🇲🇶",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"🇲🇷",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"🇲🇺",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"🇾🇹",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"🇲🇽",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of Micronesia",flag:"🇫🇲",code:"FM",dial_code:"+691"},{name:"Moldova",flag:"🇲🇩",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"🇲🇨",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"🇲🇳",code:"MN",dial_code:"+976"},{name:"Montenegro",flag:"🇲🇪",code:"ME",dial_code:"+382"},{name:"Montserrat",flag:"🇲🇸",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"🇲🇦",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"🇲🇿",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"🇲🇲",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"🇳🇦",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"🇳🇷",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"🇳🇵",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"🇳🇱",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"🇳🇨",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"🇳🇿",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"🇳🇮",code:"NI",dial_code:"+505"},{name:"Niger",flag:"🇳🇪",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"🇳🇬",code:"NG",dial_code:"+234"},{name:"Niue",flag:"🇳🇺",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"🇳🇫",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"🇲🇵",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"🇳🇴",code:"NO",dial_code:"+47"},{name:"Oman",flag:"🇴🇲",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"🇵🇰",code:"PK",dial_code:"+92"},{name:"Palau",flag:"🇵🇼",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"🇵🇸",code:"PS",dial_code:"+970"},{name:"Panama",flag:"🇵🇦",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"🇵🇬",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"🇵🇾",code:"PY",dial_code:"+595"},{name:"Peru",flag:"🇵🇪",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"🇵🇭",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"🇵🇳",code:"PN",dial_code:"+64"},{name:"Poland",flag:"🇵🇱",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"🇵🇹",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"🇵🇷",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"🇶🇦",code:"QA",dial_code:"+974"},{name:"Romania",flag:"🇷🇴",code:"RO",dial_code:"+40"},{name:"Russia",flag:"🇷🇺",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"🇷🇼",code:"RW",dial_code:"+250"},{name:"Reunion",flag:"🇷🇪",code:"RE",dial_code:"+262"},{name:"Saint Barthelemy",flag:"🇧🇱",code:"BL",dial_code:"+590"},{name:"Saint Helena, Ascension and Tristan Da Cunha",flag:"🇸🇭",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"🇰🇳",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"🇱🇨",code:"LC",dial_code:"+1758"},{name:"Saint Martin",flag:"🇲🇫",code:"MF",dial_code:"+590"},{name:"Saint Pierre and Miquelon",flag:"🇵🇲",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"🇻🇨",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"🇼🇸",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"🇸🇲",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"🇸🇹",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"🇸🇦",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"🇸🇳",code:"SN",dial_code:"+221"},{name:"Serbia",flag:"🇷🇸",code:"RS",dial_code:"+381"},{name:"Seychelles",flag:"🇸🇨",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"🇸🇱",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"🇸🇬",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"🇸🇰",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"🇸🇮",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"🇸🇧",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"🇸🇴",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"🇿🇦",code:"ZA",dial_code:"+27"},{name:"South Sudan",flag:"🇸🇸",code:"SS",dial_code:"+211"},{name:"South Georgia and the South Sandwich Islands",flag:"🇬🇸",code:"GS",dial_code:"+500"},{name:"Spain",flag:"🇪🇸",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"🇱🇰",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"🇸🇩",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"🇸🇷",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"🇸🇯",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"🇸🇿",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"🇸🇪",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"🇨🇭",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"🇸🇾",code:"SY",dial_code:"+963"},{name:"Taiwan",flag:"🇹🇼",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"🇹🇯",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of Tanzania",flag:"🇹🇿",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"🇹🇭",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"🇹🇱",code:"TL",dial_code:"+670"},{name:"Togo",flag:"🇹🇬",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"🇹🇰",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"🇹🇴",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"🇹🇹",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"🇹🇳",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"🇹🇷",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"🇹🇲",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"🇹🇨",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"🇹🇻",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"🇺🇬",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"🇺🇦",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"🇦🇪",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"🇬🇧",code:"GB",dial_code:"+44"},{name:"United States",flag:"🇺🇸",code:"US",dial_code:"+1"},{name:"Uruguay",flag:"🇺🇾",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"🇺🇿",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"🇻🇺",code:"VU",dial_code:"+678"},{name:"Venezuela, Bolivarian Republic of Venezuela",flag:"🇻🇪",code:"VE",dial_code:"+58"},{name:"Vietnam",flag:"🇻🇳",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"🇻🇬",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"🇻🇮",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"🇼🇫",code:"WF",dial_code:"+681"},{name:"Yemen",flag:"🇾🇪",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"🇿🇲",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"🇿🇼",code:"ZW",dial_code:"+263"}],Dt=le('<div class="flex items-end justify-between rounded-lg pr-2 typebot-input" data-testid="input"><div class="flex flex-1"><select class="w-12 pl-2 focus:outline-none rounded-lg typebot-country-select"><option selected></option></select></div></div>'),Vt=le("<option> (<!>)</option>"),Ut=e=>{const t=e.block.options.defaultCountryCode,[n,r]=x(je(t)?"INT":t),[a,o]=x(e.defaultValue??"");let i;const s=e=>{o(e);const t=zt.find((t=>t.dial_code===e&&t.code!==n()));t&&r(t.code)},l=()=>{const t=zt.find((e=>e.code===n()))?.dial_code;""!==a()&&i?.reportValidity()&&e.onSubmit({value:a().startsWith("+")?a():`${t??""}${a()}`})},d=e=>{"Enter"===e.key&&l()},c=e=>{r(e.currentTarget.value)};return $((()=>{!Ye()&&i&&i.focus()})),(()=>{const t=Dt.cloneNode(!0),r=t.firstChild,o=r.firstChild,u=o.firstChild;return t.$$keydown=d,t.style.setProperty("max-width","400px"),o.addEventListener("change",c),fe(u,(()=>zt.find((e=>n()===e.code))?.flag)),fe(o,F(J,{get each(){return zt.filter((e=>e.code!==n()))},children:e=>(()=>{const t=Vt.cloneNode(!0),n=t.firstChild,r=n.nextSibling;return r.nextSibling,fe(t,(()=>e.name),n),fe(t,(()=>e.dial_code),r),k((()=>t.value=e.code)),t})()}),null),fe(r,F(it,{type:"tel",ref(e){"function"==typeof i?i(e):i=e},get value(){return a()},onInput:s,get placeholder(){return e.block.options.labels.placeholder??"Your phone number..."},get autofocus(){return!Ye()}}),null),fe(t,F(tt,{type:"button",get isDisabled(){return""===a()},class:"my-2 ml-2","on:click":l,get children(){return e.block.options?.labels?.button??"Send"}}),null),k((()=>t.style.setProperty("margin-right",e.hasGuestAvatar?"50px":"0.5rem"))),t})()};de(["keydown"]);const Gt=({from:e,to:t,hasTime:n,isRange:r})=>{const a=window.navigator.language,o={day:"2-digit",month:"2-digit",year:"numeric",hour:n?"2-digit":void 0,minute:n?"2-digit":void 0},i=new Date(n?e:e.replace(/-/g,"/")).toLocaleString(a,o),s=new Date(n?t:t.replace(/-/g,"/")).toLocaleString(a,o);return`${i}${r?` to ${s}`:""}`},Ft=le('<div class="flex flex-col"><div class="flex items-center"><form class="flex justify-between rounded-lg typebot-input pr-2 items-end"><div class="flex flex-col"><div><input class="focus:outline-none flex-1 w-full text-input" data-testid="from-date"></div></div></form></div></div>'),Kt=le('<p class="font-semibold mr-2"></p>'),Ht=le('<div class="flex items-center p-4"><input class="focus:outline-none flex-1 w-full text-input ml-2" data-testid="to-date"></div>'),Wt=le('<p class="font-semibold"></p>'),Yt=e=>{const[t,n]=x({from:"",to:""});return(()=>{const r=Ft.cloneNode(!0),a=r.firstChild.firstChild,o=a.firstChild,i=o.firstChild,s=i.firstChild;return a.addEventListener("submit",(n=>{""===t().from&&""===t().to||(n.preventDefault(),e.onSubmit({value:`${t().from}${e.options?.isRange?` to ${t().to}`:""}`,label:Gt({...t(),hasTime:e.options?.hasTime,isRange:e.options?.isRange})}))})),fe(i,(()=>{const t=S((()=>!!e.options?.isRange));return()=>t()&&(()=>{const t=Kt.cloneNode(!0);return fe(t,(()=>e.options.labels?.from??"From:")),t})()})(),s),s.addEventListener("change",(e=>n({...t(),from:e.currentTarget.value}))),s.style.setProperty("min-height","2rem"),s.style.setProperty("min-width","100px"),s.style.setProperty("font-size","16px"),fe(o,(()=>{const r=S((()=>!!e.options?.isRange));return()=>r()&&(()=>{const r=Ht.cloneNode(!0),a=r.firstChild;return fe(r,(()=>{const t=S((()=>!!e.options.isRange));return()=>t()&&(()=>{const t=Wt.cloneNode(!0);return fe(t,(()=>e.options.labels?.to??"To:")),t})()})(),a),a.addEventListener("change",(e=>n({...t(),to:e.currentTarget.value}))),a.style.setProperty("min-height","2rem"),a.style.setProperty("min-width","100px"),a.style.setProperty("font-size","16px"),k((()=>ce(a,"type",e.options.hasTime?"datetime-local":"date"))),r})()})(),null),fe(a,F(tt,{get isDisabled(){return S((()=>""===t().to))()&&""===t().from},class:"my-2 ml-2",get children(){return e.options?.labels?.button??"Send"}}),null),k((t=>{const n="flex items-center p-4 "+(e.options?.isRange?"pb-0":""),r=e.options?.hasTime?"datetime-local":"date";return n!==t._v$&&ue(i,t._v$=n),r!==t._v$2&&ce(s,"type",t._v$2=r),t}),{_v$:void 0,_v$2:void 0}),r})()},qt=le('<form class="flex flex-col items-end"><div class="flex flex-wrap justify-end"></div><div class="flex"></div></form>'),Jt=le('<span class="relative inline-flex ml-2 mb-2"><button type="button"></button></span>'),Xt=le('<span class="flex h-3 w-3 absolute top-0 right-0 -mt-1 -mr-1 ping"><span class="animate-ping absolute inline-flex h-full w-full rounded-full brightness-225 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 brightness-200"></span></span>'),Qt=e=>{const[t,n]=x([]),r=e=>{const r=t().indexOf(e);n(-1!==r?t=>t.filter((t=>t!==e)):t=>[...t,e])},a=()=>e.onSubmit({value:t().map((t=>e.block.items[t].content)).join(", ")});return(()=>{const n=qt.cloneNode(!0),o=n.firstChild,i=o.nextSibling;return n.addEventListener("submit",a),fe(o,F(J,{get each(){return e.block.items},children:(n,a)=>(()=>{const o=Jt.cloneNode(!0),i=o.firstChild;return i.addEventListener("click",(()=>{return t=a(),void(e.block.options?.isMultipleChoice?r(t):e.onSubmit({value:e.block.items[t].content??""}));var t})),fe(i,(()=>n.content)),fe(o,(()=>{const t=S((()=>!(0!==e.inputIndex||1!==e.block.items.length)));return()=>t()&&Xt.cloneNode(!0)})(),null),k((r=>{const o=e.block.options?.isMultipleChoice?"checkbox":"button",s="py-2 px-4 text-left font-semibold rounded-md transition-all filter hover:brightness-90 active:brightness-75 duration-100 focus:outline-none typebot-button "+(t().some((e=>e===a()))||!e.block.options?.isMultipleChoice?"":"selectable"),l=n.id;return o!==r._v$&&ce(i,"role",r._v$=o),s!==r._v$2&&ue(i,r._v$2=s),l!==r._v$3&&ce(i,"data-itemid",r._v$3=l),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),o})()})),fe(i,(()=>{const n=S((()=>t().length>0));return()=>n()&&F(tt,{disableIcon:!0,get children(){return e.block.options?.buttonLabel??"Send"}})})()),n})()},en=le('<form class="flex flex-col"><div class="flex flex-wrap justify-center"></div><div class="flex justify-end mr-2"></div></form>'),tn=le('<span class="text-sm w-full mb-2 rating-label"></span>'),nn=le('<span class="text-sm w-full text-right mb-2 pr-2 rating-label"></span>'),rn=le("<button></button>"),an=le("<div></div>"),on=e=>{const[t,n]=x(e.defaultValue?Number(e.defaultValue):void 0),r=n=>{n.preventDefault();const r=t();Me(r)||e.onSubmit({value:r.toString()})},a=t=>{e.block.options.isOneClickSubmitEnabled&&e.onSubmit({value:t.toString()}),n(t)};return(()=>{const n=en.cloneNode(!0),o=n.firstChild,i=o.nextSibling;return n.addEventListener("submit",r),fe(n,(()=>{const t=S((()=>!!e.block.options.labels.left));return()=>t()&&(()=>{const t=tn.cloneNode(!0);return fe(t,(()=>e.block.options.labels.left)),t})()})(),o),fe(o,F(J,{get each(){return Array.from(Array(e.block.options.length+("Numbers"===e.block.options.buttonType?1:0)))},children:(n,r)=>F(sn,Y((()=>e.block.options),{get rating(){return t()},get idx(){return r()+("Numbers"===e.block.options.buttonType?0:1)},onClick:a}))})),fe(n,(()=>{const t=S((()=>!!e.block.options.labels.right));return()=>t()&&(()=>{const t=nn.cloneNode(!0);return fe(t,(()=>e.block.options.labels.right)),t})()})(),i),fe(i,(()=>{const n=S((()=>!!Oe(t)));return()=>n()&&F(tt,{disableIcon:!0,get children(){return e.block.options?.labels?.button??"Send"}})})()),n})()},sn=e=>F(Q,{get children(){return[F(ee,{get when(){return"Numbers"===e.buttonType},get children(){const t=rn.cloneNode(!0);return t.addEventListener("click",(t=>{t.preventDefault(),e.onClick(e.idx)})),fe(t,(()=>e.idx)),k((()=>ue(t,"py-2 px-4 mr-2 mb-2 text-left font-semibold rounded-md transition-all filter hover:brightness-90 active:brightness-75 duration-100 focus:outline-none typebot-button "+(Oe(e.rating)&&e.idx<=e.rating?"":"selectable")))),t}}),F(ee,{get when(){return"Numbers"!==e.buttonType},get children(){const t=an.cloneNode(!0);return t.addEventListener("click",(()=>e.onClick(e.idx))),k((n=>{const r="flex justify-center items-center rating-icon-container cursor-pointer mr-2 mb-2 "+(Oe(e.rating)&&e.idx<=e.rating?"selected":""),a=e.customIcon.isEnabled&&!je(e.customIcon.svg)?e.customIcon.svg:ln;return r!==n._v$&&ue(t,n._v$=r),a!==n._v$2&&(t.innerHTML=n._v$2=a),n}),{_v$:void 0,_v$2:void 0}),t}})]}}),ln='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';var dn;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(dn||(dn={}));const cn=dn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),un=e=>{switch(typeof e){case"undefined":return cn.undefined;case"string":return cn.string;case"number":return isNaN(e)?cn.nan:cn.number;case"boolean":return cn.boolean;case"function":return cn.function;case"bigint":return cn.bigint;case"symbol":return cn.symbol;case"object":return Array.isArray(e)?cn.array:null===e?cn.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?cn.promise:"undefined"!=typeof Map&&e instanceof Map?cn.map:"undefined"!=typeof Set&&e instanceof Set?cn.set:"undefined"!=typeof Date&&e instanceof Date?cn.date:cn.object;default:return cn.unknown}},pn=dn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hn extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,dn.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}hn.create=e=>new hn(e);const fn=(e,t)=>{let n;switch(e.code){case pn.invalid_type:n=e.received===cn.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case pn.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,dn.jsonStringifyReplacer)}`;break;case pn.unrecognized_keys:n=`Unrecognized key(s) in object: ${dn.joinValues(e.keys,", ")}`;break;case pn.invalid_union:n="Invalid input";break;case pn.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${dn.joinValues(e.options)}`;break;case pn.invalid_enum_value:n=`Invalid enum value. Expected ${dn.joinValues(e.options)}, received '${e.received}'`;break;case pn.invalid_arguments:n="Invalid function arguments";break;case pn.invalid_return_type:n="Invalid function return type";break;case pn.invalid_date:n="Invalid date";break;case pn.invalid_string:"object"==typeof e.validation?"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:dn.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case pn.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(e.minimum)}`:"Invalid input";break;case pn.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(e.maximum)}`:"Invalid input";break;case pn.custom:n="Invalid input";break;case pn.invalid_intersection_types:n="Intersection results could not be merged";break;case pn.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case pn.not_finite:n="Number must be finite";break;default:n=t.defaultError,dn.assertNever(e)}return{message:n}};let mn=fn;function gn(){return mn}const bn=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,o=[...n,...a.path||[]],i={...a,path:o};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const e of l)s=e(i,{data:t,defaultError:s}).message;return{...a,path:o,message:a.message||s}};function yn(e,t){const n=bn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,gn(),fn].filter((e=>!!e))});e.common.issues.push(n)}class vn{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return wn;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return vn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return wn;if("aborted"===a.status)return wn;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),(void 0!==a.value||r.alwaysSet)&&(n[t.value]=a.value)}return{status:e.value,value:n}}}const wn=Object.freeze({status:"aborted"}),_n=e=>({status:"dirty",value:e}),xn=e=>({status:"valid",value:e}),kn=e=>"aborted"===e.status,Cn=e=>"dirty"===e.status,Sn=e=>"valid"===e.status,Tn=e=>void 0!==typeof Promise&&e instanceof Promise;var $n;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}($n||($n={}));class En{constructor(e,t,n,r){this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._path.concat(this._key)}}const Nn=(e,t)=>{if(Sn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new hn(e.common.issues)}};function An(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:a}}class In{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return un(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vn,ctx:{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Tn(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Nn(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Tn(r)?r:Promise.resolve(r));return Nn(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),o=()=>r.addIssue({code:pn.custom,...n(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then((e=>!!e||(o(),!1))):!!a||(o(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new mr({schema:this,typeName:Tr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return gr.create(this)}nullable(){return br.create(this)}nullish(){return this.optional().nullable()}array(){return Wn.create(this)}promise(){return fr.create(this)}or(e){return Qn.create([this,e])}and(e){return rr.create(this,e)}transform(e){return new mr({schema:this,typeName:Tr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new yr({innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:Tr.ZodDefault})}brand(){return new xr({typeName:Tr.ZodBranded,type:this,...An(void 0)})}catch(e){return new vr({innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:Tr.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return kr.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pn=/^c[^\s-]{8,}$/i,On=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Mn=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class jn extends In{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:pn.invalid_string,...$n.errToObj(n)}),this.nonempty=e=>this.min(1,$n.errToObj(e)),this.trim=()=>new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==cn.string){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.string,received:t.parsedType}),wn}const t=new vn;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),yn(n,{code:pn.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),yn(n,{code:pn.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,o=e.data.length<a.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?yn(n,{code:pn.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&yn(n,{code:pn.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)Mn.test(e.data)||(n=this._getOrReturnCtx(e,n),yn(n,{validation:"email",code:pn.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)On.test(e.data)||(n=this._getOrReturnCtx(e,n),yn(n,{validation:"uuid",code:pn.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)Pn.test(e.data)||(n=this._getOrReturnCtx(e,n),yn(n,{validation:"cuid",code:pn.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),yn(n,{validation:"url",code:pn.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),yn(n,{validation:"regex",code:pn.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),yn(n,{code:pn.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),yn(n,{code:pn.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){((r=a).precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}:\\d{2})|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):0===r.precision?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),yn(n,{code:pn.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else dn.assertNever(a);var r;return{status:t.value,value:e.data}}_addCheck(e){return new jn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$n.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$n.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$n.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$n.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...$n.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...$n.errToObj(t)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...$n.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...$n.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...$n.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...$n.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...$n.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Zn(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}jn.create=e=>{var t;return new jn({checks:[],typeName:Tr.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...An(e)})};class Ln extends In{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==cn.number){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.number,received:t.parsedType}),wn}let t;const n=new vn;for(const r of this._def.checks)if("int"===r.kind)dn.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),yn(t,{code:pn.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),yn(t,{code:pn.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),yn(t,{code:pn.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Zn(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),yn(t,{code:pn.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),yn(t,{code:pn.not_finite,message:r.message}),n.dirty()):dn.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,$n.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$n.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$n.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$n.toString(t))}setLimit(e,t,n,r){return new Ln({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:$n.toString(r)}]})}_addCheck(e){return new Ln({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$n.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$n.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$n.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$n.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$n.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$n.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:$n.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind))}}Ln.create=e=>new Ln({checks:[],typeName:Tr.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...An(e)});class Rn extends In{_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==cn.bigint){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.bigint,received:t.parsedType}),wn}return xn(e.data)}}Rn.create=e=>{var t;return new Rn({typeName:Tr.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...An(e)})};class Bn extends In{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==cn.boolean){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.boolean,received:t.parsedType}),wn}return xn(e.data)}}Bn.create=e=>new Bn({typeName:Tr.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...An(e)});class zn extends In{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==cn.date){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.date,received:t.parsedType}),wn}if(isNaN(e.data.getTime())){return yn(this._getOrReturnCtx(e),{code:pn.invalid_date}),wn}const t=new vn;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),yn(n,{code:pn.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),yn(n,{code:pn.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):dn.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:$n.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:$n.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}zn.create=e=>new zn({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Tr.ZodDate,...An(e)});class Dn extends In{_parse(e){if(this._getType(e)!==cn.symbol){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.symbol,received:t.parsedType}),wn}return xn(e.data)}}Dn.create=e=>new Dn({typeName:Tr.ZodSymbol,...An(e)});class Vn extends In{_parse(e){if(this._getType(e)!==cn.undefined){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.undefined,received:t.parsedType}),wn}return xn(e.data)}}Vn.create=e=>new Vn({typeName:Tr.ZodUndefined,...An(e)});class Un extends In{_parse(e){if(this._getType(e)!==cn.null){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.null,received:t.parsedType}),wn}return xn(e.data)}}Un.create=e=>new Un({typeName:Tr.ZodNull,...An(e)});class Gn extends In{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}Gn.create=e=>new Gn({typeName:Tr.ZodAny,...An(e)});class Fn extends In{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}Fn.create=e=>new Fn({typeName:Tr.ZodUnknown,...An(e)});class Kn extends In{_parse(e){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.never,received:t.parsedType}),wn}}Kn.create=e=>new Kn({typeName:Tr.ZodNever,...An(e)});class Hn extends In{_parse(e){if(this._getType(e)!==cn.undefined){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.void,received:t.parsedType}),wn}return xn(e.data)}}Hn.create=e=>new Hn({typeName:Tr.ZodVoid,...An(e)});class Wn extends In{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==cn.array)return yn(t,{code:pn.invalid_type,expected:cn.array,received:t.parsedType}),wn;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(yn(t,{code:e?pn.too_big:pn.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(yn(t,{code:pn.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(yn(t,{code:pn.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all(t.data.map(((e,n)=>r.type._parseAsync(new En(t,e,t.path,n))))).then((e=>vn.mergeArray(n,e)));const a=t.data.map(((e,n)=>r.type._parseSync(new En(t,e,t.path,n))));return vn.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Wn({...this._def,minLength:{value:e,message:$n.toString(t)}})}max(e,t){return new Wn({...this._def,maxLength:{value:e,message:$n.toString(t)}})}length(e,t){return new Wn({...this._def,exactLength:{value:e,message:$n.toString(t)}})}nonempty(e){return this.min(1,e)}}var Yn;Wn.create=(e,t)=>new Wn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Tr.ZodArray,...An(t)}),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Yn||(Yn={}));const qn=e=>t=>new Xn({...e,shape:()=>({...e.shape(),...t})});function Jn(e){if(e instanceof Xn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=gr.create(Jn(r))}return new Xn({...e._def,shape:()=>t})}return e instanceof Wn?Wn.create(Jn(e.element)):e instanceof gr?gr.create(Jn(e.unwrap())):e instanceof br?br.create(Jn(e.unwrap())):e instanceof ar?ar.create(e.items.map((e=>Jn(e)))):e}class Xn extends In{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=qn(this._def),this.extend=qn(this._def)}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=dn.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==cn.object){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.object,received:t.parsedType}),wn}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Kn&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||o.push(e);const i=[];for(const e of a){const t=r[e],a=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new En(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Kn){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of o)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)o.length>0&&(yn(n,{code:pn.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new En(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>vn.mergeObjectSync(t,e))):vn.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return $n.errToObj,new Xn({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,a,o,i;const s=null!==(o=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==o?o:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=$n.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}})}strip(){return new Xn({...this._def,unknownKeys:"strip"})}passthrough(){return new Xn({...this._def,unknownKeys:"passthrough"})}setKey(e,t){return this.augment({[e]:t})}merge(e){return new Xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Yn.mergeShapes(this._def.shape(),e._def.shape()),typeName:Tr.ZodObject})}catchall(e){return new Xn({...this._def,catchall:e})}pick(e){const t={};return dn.objectKeys(e).map((e=>{this.shape[e]&&(t[e]=this.shape[e])})),new Xn({...this._def,shape:()=>t})}omit(e){const t={};return dn.objectKeys(this.shape).map((n=>{-1===dn.objectKeys(e).indexOf(n)&&(t[n]=this.shape[n])})),new Xn({...this._def,shape:()=>t})}deepPartial(){return Jn(this)}partial(e){const t={};if(e)return dn.objectKeys(this.shape).map((n=>{-1===dn.objectKeys(e).indexOf(n)?t[n]=this.shape[n]:t[n]=this.shape[n].optional()})),new Xn({...this._def,shape:()=>t});for(const e in this.shape){const n=this.shape[e];t[e]=n.optional()}return new Xn({...this._def,shape:()=>t})}required(e){const t={};if(e)dn.objectKeys(this.shape).map((n=>{if(-1===dn.objectKeys(e).indexOf(n))t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof gr;)e=e._def.innerType;t[n]=e}}));else for(const e in this.shape){let n=this.shape[e];for(;n instanceof gr;)n=n._def.innerType;t[e]=n}return new Xn({...this._def,shape:()=>t})}keyof(){return ur(dn.objectKeys(this.shape))}}Xn.create=(e,t)=>new Xn({shape:()=>e,unknownKeys:"strip",catchall:Kn.create(),typeName:Tr.ZodObject,...An(t)}),Xn.strictCreate=(e,t)=>new Xn({shape:()=>e,unknownKeys:"strict",catchall:Kn.create(),typeName:Tr.ZodObject,...An(t)}),Xn.lazycreate=(e,t)=>new Xn({shape:e,unknownKeys:"strip",catchall:Kn.create(),typeName:Tr.ZodObject,...An(t)});class Qn extends In{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new hn(e.ctx.common.issues)));return yn(t,{code:pn.invalid_union,unionErrors:n}),wn}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},o=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new hn(e)));return yn(t,{code:pn.invalid_union,unionErrors:a}),wn}}get options(){return this._def.options}}Qn.create=(e,t)=>new Qn({options:e,typeName:Tr.ZodUnion,...An(t)});const er=e=>e instanceof dr?er(e.schema):e instanceof mr?er(e.innerType()):e instanceof cr?[e.value]:e instanceof pr?e.options:e instanceof hr?Object.keys(e.enum):e instanceof yr?er(e._def.innerType):e instanceof Vn?[void 0]:e instanceof Un?[null]:null;class tr extends In{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==cn.object)return yn(t,{code:pn.invalid_type,expected:cn.object,received:t.parsedType}),wn;const n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(yn(t,{code:pn.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),wn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=er(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of t){if(r.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,n)}}return new tr({typeName:Tr.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...An(n)})}}function nr(e,t){const n=un(e),r=un(t);if(e===t)return{valid:!0,data:e};if(n===cn.object&&r===cn.object){const n=dn.objectKeys(t),r=dn.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of r){const r=nr(e[n],t[n]);if(!r.valid)return{valid:!1};a[n]=r.data}return{valid:!0,data:a}}if(n===cn.array&&r===cn.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=nr(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===cn.date&&r===cn.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class rr extends In{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(kn(e)||kn(r))return wn;const a=nr(e.value,r.value);return a.valid?((Cn(e)||Cn(r))&&t.dirty(),{status:t.value,value:a.data}):(yn(n,{code:pn.invalid_intersection_types}),wn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rr.create=(e,t,n)=>new rr({left:e,right:t,typeName:Tr.ZodIntersection,...An(n)});class ar extends In{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==cn.array)return yn(n,{code:pn.invalid_type,expected:cn.array,received:n.parsedType}),wn;if(n.data.length<this._def.items.length)return yn(n,{code:pn.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),wn;!this._def.rest&&n.data.length>this._def.items.length&&(yn(n,{code:pn.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=n.data.map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new En(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>vn.mergeArray(t,e))):vn.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ar({...this._def,rest:e})}}ar.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ar({items:e,typeName:Tr.ZodTuple,rest:null,...An(t)})};class or extends In{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==cn.object)return yn(n,{code:pn.invalid_type,expected:cn.object,received:n.parsedType}),wn;const r=[],a=this._def.keyType,o=this._def.valueType;for(const e in n.data)r.push({key:a._parse(new En(n,e,n.path,e)),value:o._parse(new En(n,n.data[e],n.path,e))});return n.common.async?vn.mergeObjectAsync(t,r):vn.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new or(t instanceof In?{keyType:e,valueType:t,typeName:Tr.ZodRecord,...An(n)}:{keyType:jn.create(),valueType:e,typeName:Tr.ZodRecord,...An(t)})}}class ir extends In{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==cn.map)return yn(n,{code:pn.invalid_type,expected:cn.map,received:n.parsedType}),wn;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map((([e,t],o)=>({key:r._parse(new En(n,e,n.path,[o,"key"])),value:a._parse(new En(n,t,n.path,[o,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return wn;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return wn;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}ir.create=(e,t,n)=>new ir({valueType:t,keyType:e,typeName:Tr.ZodMap,...An(n)});class sr extends In{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==cn.set)return yn(n,{code:pn.invalid_type,expected:cn.set,received:n.parsedType}),wn;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(yn(n,{code:pn.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(yn(n,{code:pn.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return wn;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>a._parse(new En(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>o(e))):o(i)}min(e,t){return new sr({...this._def,minSize:{value:e,message:$n.toString(t)}})}max(e,t){return new sr({...this._def,maxSize:{value:e,message:$n.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}sr.create=(e,t)=>new sr({valueType:e,minSize:null,maxSize:null,typeName:Tr.ZodSet,...An(t)});class lr extends In{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==cn.function)return yn(t,{code:pn.invalid_type,expected:cn.function,received:t.parsedType}),wn;function n(e,n){return bn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,gn(),fn].filter((e=>!!e)),issueData:{code:pn.invalid_arguments,argumentsError:n}})}function r(e,n){return bn({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,gn(),fn].filter((e=>!!e)),issueData:{code:pn.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},o=t.data;return this._def.returns instanceof fr?xn((async(...e)=>{const t=new hn([]),i=await this._def.args.parseAsync(e,a).catch((r=>{throw t.addIssue(n(e,r)),t})),s=await o(...i);return await this._def.returns._def.type.parseAsync(s,a).catch((e=>{throw t.addIssue(r(s,e)),t}))})):xn(((...e)=>{const t=this._def.args.safeParse(e,a);if(!t.success)throw new hn([n(e,t.error)]);const i=o(...t.data),s=this._def.returns.safeParse(i,a);if(!s.success)throw new hn([r(i,s.error)]);return s.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new lr({...this._def,args:ar.create(e).rest(Fn.create())})}returns(e){return new lr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new lr({args:e||ar.create([]).rest(Fn.create()),returns:t||Fn.create(),typeName:Tr.ZodFunction,...An(n)})}}class dr extends In{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}dr.create=(e,t)=>new dr({getter:e,typeName:Tr.ZodLazy,...An(t)});class cr extends In{_parse(e){if(e.data!==this._def.value){return yn(this._getOrReturnCtx(e),{code:pn.invalid_literal,expected:this._def.value}),wn}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ur(e,t){return new pr({values:e,typeName:Tr.ZodEnum,...An(t)})}cr.create=(e,t)=>new cr({value:e,typeName:Tr.ZodLiteral,...An(t)});class pr extends In{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return yn(t,{expected:dn.joinValues(n),received:t.parsedType,code:pn.invalid_type}),wn}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return yn(t,{received:t.data,code:pn.invalid_enum_value,options:n}),wn}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}}pr.create=ur;class hr extends In{_parse(e){const t=dn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==cn.string&&n.parsedType!==cn.number){const e=dn.objectValues(t);return yn(n,{expected:dn.joinValues(e),received:n.parsedType,code:pn.invalid_type}),wn}if(-1===t.indexOf(e.data)){const e=dn.objectValues(t);return yn(n,{received:n.data,code:pn.invalid_enum_value,options:e}),wn}return xn(e.data)}get enum(){return this._def.values}}hr.create=(e,t)=>new hr({values:e,typeName:Tr.ZodNativeEnum,...An(t)});class fr extends In{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==cn.promise&&!1===t.common.async)return yn(t,{code:pn.invalid_type,expected:cn.promise,received:t.parsedType}),wn;const n=t.parsedType===cn.promise?t.data:Promise.resolve(t.data);return xn(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}fr.create=(e,t)=>new fr({type:e,typeName:Tr.ZodPromise,...An(t)});class mr extends In{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){const e=r.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const a={addIssue:e=>{yn(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?wn:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?wn:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Sn(e))return e;const o=r.transform(e.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Sn(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}dn.assertNever(r)}}mr.create=(e,t,n)=>new mr({schema:e,typeName:Tr.ZodEffects,effect:t,...An(n)}),mr.createWithPreprocess=(e,t,n)=>new mr({schema:t,effect:{type:"preprocess",transform:e},typeName:Tr.ZodEffects,...An(n)});class gr extends In{_parse(e){return this._getType(e)===cn.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gr.create=(e,t)=>new gr({innerType:e,typeName:Tr.ZodOptional,...An(t)});class br extends In{_parse(e){return this._getType(e)===cn.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}br.create=(e,t)=>new br({innerType:e,typeName:Tr.ZodNullable,...An(t)});class yr extends In{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===cn.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}yr.create=(e,t)=>new yr({innerType:e,typeName:Tr.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...An(t)});class vr extends In{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.innerType._parse({data:t.data,path:t.path,parent:t});return Tn(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.defaultValue()}))):{status:"valid",value:"valid"===n.status?n.value:this._def.defaultValue()}}removeDefault(){return this._def.innerType}}vr.create=(e,t)=>new vr({innerType:e,typeName:Tr.ZodCatch,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...An(t)});class wr extends In{_parse(e){if(this._getType(e)!==cn.nan){const t=this._getOrReturnCtx(e);return yn(t,{code:pn.invalid_type,expected:cn.nan,received:t.parsedType}),wn}return{status:"valid",value:e.data}}}wr.create=e=>new wr({typeName:Tr.ZodNaN,...An(e)});const _r=Symbol("zod_brand");class xr extends In{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class kr extends In{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?wn:"dirty"===e.status?(t.dirty(),_n(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?wn:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new kr({in:e,out:t,typeName:Tr.ZodPipeline})}}const Cr=(e,t={},n)=>e?Gn.create().superRefine(((r,a)=>{if(!e(r)){const e="function"==typeof t?t(r):t,o="string"==typeof e?{message:e}:e;a.addIssue({code:"custom",...o,fatal:n})}})):Gn.create(),Sr={object:Xn.lazycreate};var Tr;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(Tr||(Tr={}));const $r=jn.create,Er=Ln.create,Nr=wr.create,Ar=Rn.create,Ir=Bn.create,Pr=zn.create,Or=Dn.create,Mr=Vn.create,jr=Un.create,Zr=Gn.create,Lr=Fn.create,Rr=Kn.create,Br=Hn.create,zr=Wn.create,Dr=Xn.create,Vr=Xn.strictCreate,Ur=Qn.create,Gr=tr.create,Fr=rr.create,Kr=ar.create,Hr=or.create,Wr=ir.create,Yr=sr.create,qr=lr.create,Jr=dr.create,Xr=cr.create,Qr=pr.create,ea=hr.create,ta=fr.create,na=mr.create,ra=gr.create,aa=br.create,oa=mr.createWithPreprocess,ia=kr.create,sa={string:e=>jn.create({...e,coerce:!0}),number:e=>Ln.create({...e,coerce:!0}),boolean:e=>Bn.create({...e,coerce:!0}),bigint:e=>Rn.create({...e,coerce:!0}),date:e=>zn.create({...e,coerce:!0})},la=wn;var da=Object.freeze({__proto__:null,defaultErrorMap:fn,setErrorMap:function(e){mn=e},getErrorMap:gn,makeIssue:bn,EMPTY_PATH:[],addIssueToContext:yn,ParseStatus:vn,INVALID:wn,DIRTY:_n,OK:xn,isAborted:kn,isDirty:Cn,isValid:Sn,isAsync:Tn,get util(){return dn},ZodParsedType:cn,getParsedType:un,ZodType:In,ZodString:jn,ZodNumber:Ln,ZodBigInt:Rn,ZodBoolean:Bn,ZodDate:zn,ZodSymbol:Dn,ZodUndefined:Vn,ZodNull:Un,ZodAny:Gn,ZodUnknown:Fn,ZodNever:Kn,ZodVoid:Hn,ZodArray:Wn,get objectUtil(){return Yn},ZodObject:Xn,ZodUnion:Qn,ZodDiscriminatedUnion:tr,ZodIntersection:rr,ZodTuple:ar,ZodRecord:or,ZodMap:ir,ZodSet:sr,ZodFunction:lr,ZodLazy:dr,ZodLiteral:cr,ZodEnum:pr,ZodNativeEnum:hr,ZodPromise:fr,ZodEffects:mr,ZodTransformer:mr,ZodOptional:gr,ZodNullable:br,ZodDefault:yr,ZodCatch:vr,ZodNaN:wr,BRAND:_r,ZodBranded:xr,ZodPipeline:kr,custom:Cr,Schema:In,ZodSchema:In,late:Sr,get ZodFirstPartyTypeKind(){return Tr},coerce:sa,any:Zr,array:zr,bigint:Ar,boolean:Ir,date:Pr,discriminatedUnion:Gr,effect:na,enum:Qr,function:qr,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Cr((t=>t instanceof e),t,!0),intersection:Fr,lazy:Jr,literal:Xr,map:Wr,nan:Nr,nativeEnum:ea,never:Rr,null:jr,nullable:aa,number:Er,object:Dr,oboolean:()=>Ir().optional(),onumber:()=>Er().optional(),optional:ra,ostring:()=>$r().optional(),pipeline:ia,preprocess:oa,promise:ta,record:Hr,set:Yr,strictObject:Vr,string:$r,symbol:Or,transformer:na,tuple:Kr,undefined:Mr,union:Ur,unknown:Lr,void:Br,NEVER:la,ZodIssueCode:pn,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:hn});const ca=da.object({id:da.string(),groupId:da.string(),outgoingEdgeId:da.string().optional()}),ua=da.object({variableId:da.string().optional()}).and(da.object({isRequired:da.boolean().optional(),isMultipleAllowed:da.boolean(),labels:da.object({placeholder:da.string(),button:da.string(),clear:da.string().optional(),skip:da.string().optional()}),sizeLimit:da.number().optional()}));ca.and(da.object({type:da.literal(Ee.FILE),options:ua}));const pa={placeholder:"<strong>\n      Click to upload\n    </strong> or drag and drop<br>\n    (size limit: 10MB)",button:"Upload",clear:"Clear",skip:"Skip"},ha=le('<div class="w-full bg-gray-200 rounded-full h-2.5"><div class="upload-progress-bar h-2.5 rounded-full"></div></div>'),fa=le('<span class="relative"><div class="total-files-indicator flex items-center justify-center absolute -right-1 rounded-full px-1 w-4 h-4"></div></span>'),ma=le('<div class="flex flex-col justify-center items-center"><p class="text-sm text-gray-500 text-center"></p></div>'),ga=le('<input id="dropzone-file" type="file" class="hidden">'),ba=le('<div class="flex justify-end"><button class="py-2 px-4 justify-center font-semibold rounded-md text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 typebot-button "></button></div>'),ya=le('<button class="secondary-button py-2 px-4 justify-center font-semibold rounded-md text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 mr-2"></button>'),va=le('<div class="flex justify-end"><div class="flex"></div></div>'),wa=le('<p class="text-red-500 text-sm"></p>'),_a=le('<form class="flex flex-col w-full"><label for="dropzone-file"></label></form>'),xa=le('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline></svg>'),ka=le('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-3 text-gray-500"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>'),Ca=e=>{const[t,n]=x([]),[r,a]=x(!1),[o,i]=x(0),[s,l]=x(!1),[d,c]=x(),u=r=>{c(void 0);const a=Array.from(r);return a.some((t=>t.size>1024*(e.block.options.sizeLimit??10)*1024))?c(`A file is larger than ${e.block.options.sizeLimit??10}MB`):!e.block.options.isMultipleAllowed&&r?h(a[0]):void n([...t(),...a])},p=async e=>{e.preventDefault(),0!==t().length&&f(t())},h=async t=>{if(e.context.isPreview)return e.onSubmit({label:"File uploaded",value:"http://fake-upload-url.com"});a(!0);const n=await Le({basePath:`${e.context.apiHost??We()}/api/typebots/${e.context.typebotId}/blocks/${e.block.id}`,files:[{file:t,path:`public/results/${e.context.resultId}/${e.block.id}/${t.name}`}]});if(a(!1),n.length)return e.onSubmit({label:"File uploaded",value:n[0]??""});c("An error occured while uploading the file")},f=async t=>{if(e.context.isPreview)return e.onSubmit({label:`${t.length} file${t.length>1?"s":""} uploaded`,value:t.map(((e,t)=>`http://fake-upload-url.com/${t}`)).join(", ")});a(!0);const n=await Le({basePath:`${e.context.apiHost??We()}/api/typebots/${e.context.typebotId}/blocks/${e.block.id}`,files:t.map((t=>({file:t,path:`public/results/${e.context.resultId}/${e.block.id}/${t.name}`}))),onUploadProgress:i});if(a(!1),i(0),n.length!==t.length)return c("An error occured while uploading the files");e.onSubmit({label:`${n.length} file${n.length>1?"s":""} uploaded`,value:n.join(", ")})},m=e=>{e.preventDefault(),l(!0)},g=()=>l(!1),b=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer?.files&&u(e.dataTransfer.files)},y=()=>n([]);return(()=>{const n=_a.cloneNode(!0),a=n.firstChild;return n.addEventListener("submit",p),a.addEventListener("drop",b),a.addEventListener("dragleave",g),a.addEventListener("dragover",m),fe(a,F(Q,{get children(){return[F(ee,{get when(){return r()},get children(){return F(X,{get when(){return t().length>1},get fallback(){return F(nt,{})},get children(){const e=ha.cloneNode(!0),t=e.firstChild;return t.style.setProperty("transition","width 150ms cubic-bezier(0.4, 0, 0.2, 1)"),k((()=>t.style.setProperty("width",`${o()>0?o:10}%`))),e}})}}),F(ee,{get when(){return!r()},get children(){return[(()=>{const n=ma.cloneNode(!0),r=n.firstChild;return fe(n,F(X,{get when(){return t().length},get fallback(){return F(Sa,{})},get children(){const e=fa.cloneNode(!0),n=e.firstChild;return fe(e,F(Ta,{}),n),n.style.setProperty("bottom","5px"),fe(n,(()=>t().length)),e}}),r),k((()=>r.innerHTML=e.block.options.labels.placeholder)),n})(),(()=>{const t=ga.cloneNode(!0);return t.addEventListener("change",(e=>{e.currentTarget.files&&u(e.currentTarget.files)})),k((()=>t.multiple=e.block.options.isMultipleAllowed)),t})()]}})]}})),fe(n,F(X,{get when(){return 0===t().length&&!1===e.block.options.isRequired},get children(){const t=ba.cloneNode(!0),n=t.firstChild;return n.addEventListener("click",(()=>e.onSkip(e.block.options.labels.skip??pa.skip))),fe(n,(()=>e.block.options.labels.skip??pa.skip)),t}}),null),fe(n,F(X,{get when(){return S((()=>!!(e.block.options.isMultipleAllowed&&t().length>0)))()&&!r()},get children(){const n=va.cloneNode(!0),r=n.firstChild;return fe(r,F(X,{get when(){return t().length},get children(){const t=ya.cloneNode(!0);return t.addEventListener("click",y),fe(t,(()=>e.block.options.labels.clear??pa.clear)),t}}),null),fe(r,F(tt,{type:"submit",disableIcon:!0,get children(){return S((()=>e.block.options.labels.button===pa.button))()?`Upload ${t().length} file${t().length>1?"s":""}`:e.block.options.labels.button}}),null),n}}),null),fe(n,F(X,{get when(){return d()},get children(){const e=wa.cloneNode(!0);return fe(e,d),e}}),null),k((()=>ue(a,"typebot-upload-input py-6 flex flex-col justify-center items-center w-full bg-gray-50 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-100 px-8 mb-2 "+(s()?"dragging-over":"")))),n})()},Sa=()=>xa.cloneNode(!0),Ta=()=>ka.cloneNode(!0);let $a;!function(e){e.STRIPE="Stripe"}($a||($a={}));const Ea=le('<div class="typebot-input-error-message mt-4 text-center animate-fade-in"></div>'),Na=le('<form id="payment-form" class="flex flex-col rounded-lg p-4 typebot-input w-full items-center"><slot name="stripe-payment-form"></slot></form>');let Aa,Ia=null,Pa=null;const Oa=e=>{const[t,n]=x(),[r,a]=x(!1),[o,i]=x(!1);$((async()=>{var t;if(Ma(Aa),Ia=await(t=e.options.publicKey,new Promise((e=>{if(window.Stripe)return e(window.Stripe(t));const n=document.createElement("script");n.src="https://js.stripe.com/v3",document.body.appendChild(n),n.onload=()=>{if(!window.Stripe)throw new Error("Stripe.js failed to load.");e(window.Stripe(t))}}))),!Ia)return;Pa=Ia.elements({appearance:{theme:"stripe",variables:{colorPrimary:getComputedStyle(Aa).getPropertyValue("--typebot-button-bg-color")}},clientSecret:e.options.paymentIntentSecret});Pa.create("payment",{layout:"tabs"}).mount("#payment-element"),setTimeout((()=>a(!0)),1e3)}));const s=async t=>{if(t.preventDefault(),!Ia||!Pa)return;i(!0);const{error:r,paymentIntent:a}=await Ia.confirmPayment({elements:Pa,confirmParams:{return_url:e.context.apiHost,payment_method_data:{billing_details:{name:e.options.additionalInformation?.name,email:e.options.additionalInformation?.email,phone:e.options.additionalInformation?.phoneNumber}}},redirect:"if_required"});return i(!1),"validation_error"!==r?.type?"card_error"===r?.type?n(r.message):r||"succeeded"!==a.status?void 0:e.onSuccess():void 0};return(()=>{const n=Na.cloneNode(!0),a=n.firstChild;n.addEventListener("submit",s);return"function"==typeof Aa?he(Aa,a):Aa=a,a._$owner=m,fe(n,F(X,{get when(){return r()},get children(){return F(tt,{get isLoading(){return o()},class:"mt-4 w-full max-w-lg animate-fade-in",disableIcon:!0,get children(){return[S((()=>e.options.labels.button))," ",S((()=>e.options.amountLabel))]}})}}),null),fe(n,F(X,{get when(){return t()},get children(){const e=Ea.cloneNode(!0);return fe(e,t),e}}),null),n})()},Ma=e=>{const t=e.getRootNode().host,n=document.createElement("div");n.style.width="100%",n.slot="stripe-payment-form",t.appendChild(n);const r=document.createElement("div");r.id="payment-element",n.appendChild(r)},ja=e=>F(Q,{get children(){return F(ee,{get when(){return e.options.provider===$a.STRIPE},get children(){return F(Oa,{get onSuccess(){return e.onSuccess},get options(){return e.options},get context(){return e.context}})}})}}),Za=le('<div class="flex justify-end animate-fade-in"></div>'),La=le("<div></div>"),Ra=e=>{const[t,n]=x(),r=async({label:t,value:r})=>{n(t??r),e.onSubmit(r??t)},a=t=>{n(t),e.onSkip()};return F(Q,{get children(){return[F(ee,{get when(){return t()},keyed:!0,children:t=>F(It,{message:t,get showAvatar(){return e.guestAvatar?.isEnabled??!1},get avatarSrc(){return e.guestAvatar?.url&&e.guestAvatar.url}})}),F(ee,{get when(){return Me(t())},get children(){const t=Za.cloneNode(!0);return fe(t,(()=>{const t=S((()=>!!e.guestAvatar?.isEnabled));return()=>t()&&(()=>{const e=La.cloneNode(!0);return k((()=>ue(e,"flex mr-2 mb-2 mt-1 flex-shrink-0 items-center "+(Ye()?"w-6 h-6":"w-10 h-10")))),e})()})(),null),fe(t,F(Ba,{get context(){return e.context},get block(){return e.block},get inputIndex(){return e.inputIndex},get isInputPrefillEnabled(){return e.isInputPrefillEnabled},onSubmit:r,onSkip:a,get hasGuestAvatar(){return e.guestAvatar?.isEnabled??!1}}),null),t}})]}})},Ba=e=>{const t=t=>e.onSubmit(t),n=()=>e.isInputPrefillEnabled?e.block.prefilledValue:void 0;return F(Q,{get children(){return[F(ee,{get when(){return e.block.type===Ee.TEXT},get children(){return F(Ot,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t,get hasGuestAvatar(){return e.hasGuestAvatar}})}}),F(ee,{get when(){return e.block.type===Ee.NUMBER},get children(){return F(jt,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t,get hasGuestAvatar(){return e.hasGuestAvatar}})}}),F(ee,{get when(){return e.block.type===Ee.EMAIL},get children(){return F(Lt,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t,get hasGuestAvatar(){return e.hasGuestAvatar}})}}),F(ee,{get when(){return e.block.type===Ee.URL},get children(){return F(Bt,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t,get hasGuestAvatar(){return e.hasGuestAvatar}})}}),F(ee,{get when(){return e.block.type===Ee.PHONE},get children(){return F(Ut,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t,get hasGuestAvatar(){return e.hasGuestAvatar}})}}),F(ee,{get when(){return e.block.type===Ee.DATE},get children(){return F(Yt,{get options(){return e.block.options},onSubmit:t})}}),F(ee,{get when(){return e.block.type===Ee.CHOICE},get children(){return F(Qt,{get inputIndex(){return e.inputIndex},get block(){return e.block},onSubmit:t})}}),F(ee,{get when(){return e.block.type===Ee.RATING},get children(){return F(on,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),F(ee,{get when(){return e.block.type===Ee.FILE},get children(){return F(Ca,{get context(){return e.context},get block(){return e.block},onSubmit:t,get onSkip(){return e.onSkip}})}}),F(ee,{get when(){return e.block.type===Ee.PAYMENT},get children(){return F(ja,{get context(){return e.context},get options(){return{...e.block.options,...e.block.runtimeOptions}},onSuccess:()=>e.onSubmit({value:e.block.options.labels.success??"Success"})})}})]}})},za=le("<div><div></div></div>"),Da=e=>{let t;const[n,r]=x(0),a=new ResizeObserver((e=>r(e[0].target.clientHeight-(Ye()?24:40))));return $((()=>{t&&a.observe(t)})),E((()=>{t&&a.unobserve(t)})),(()=>{const r=za.cloneNode(!0),a=r.firstChild;return"function"==typeof t?he(t,r):t=r,a.style.setProperty("transition","top 350ms ease-out"),fe(a,F(Nt,{get initialAvatarSrc(){return e.hostAvatarSrc}})),k((e=>{const t="flex mr-2 mb-2 flex-shrink-0 items-center relative typebot-avatar-container "+(Ye()?"w-6":"w-10"),o="absolute mb-2 flex items-center top-0 "+(Ye()?"w-6 h-6":"w-10 h-10"),i=`${n()}px`;return t!==e._v$&&ue(r,e._v$=t),o!==e._v$2&&ue(a,e._v$2=o),i!==e._v$3&&a.style.setProperty("top",e._v$3=i),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})()},Va=le('<div class="flex w-full"><div class="flex flex-col w-full min-w-0"><div class="flex"><div class="flex-1"></div></div></div></div>'),Ua=e=>{const[t,n]=x(0);$((()=>{0===e.messages.length&&e.onAllBubblesDisplayed(),e.onScrollToBottom()}));const r=async()=>{const r=e.messages[t()].id;await e.onNewBubbleDisplayed(r),n(t()===e.messages.length?t():t()+1),e.onScrollToBottom(),t()===e.messages.length&&e.onAllBubblesDisplayed()};return(()=>{const n=Va.cloneNode(!0),a=n.firstChild,o=a.firstChild,i=o.firstChild;return fe(o,F(X,{get when(){return e.theme.chat.hostAvatar?.isEnabled&&e.messages.length>0},get children(){return F(Da,{get hostAvatarSrc(){return e.theme.chat.hostAvatar?.url}})}}),i),fe(i,F(J,{get each(){return e.messages.slice(0,t()+1)},children:e=>F(St,{message:e,onTransitionEnd:r})})),fe(a,(()=>{const n=S((()=>!(!e.input||t()!==e.messages.length)));return()=>n()&&F(Ra,{get block(){return e.input},get inputIndex(){return e.inputIndex},get onSubmit(){return e.onSubmit},get onSkip(){return e.onSkip},get guestAvatar(){return e.theme.chat.guestAvatar},get context(){return e.context},get isInputPrefillEnabled(){return e.settings.general.isInputPrefillEnabled??!0}})})(),null),k((()=>i.style.setProperty("margin-right",e.theme.chat.guestAvatar?.isEnabled?"50px":"0.5rem"))),n})()},Ga=async({content:e,args:t})=>{const n=Function(...t.map((e=>e.id)),e);try{await n(...t.map((e=>e.value)))}catch(e){console.error(e)}},Fa=e=>{e&&gtag("event",e.action,{event_category:e.category,event_label:e.label,value:e.value})};var Ka=Object.freeze({__proto__:null,default:e=>new Promise((t=>{const n=document.getElementById("gtag");if(!n){const n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,n.id="gtag";const r=document.createElement("script");r.innerHTML=`window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n    \n      gtag('config', '${e}');\n      `,document.body.appendChild(n),document.body.appendChild(r),n.onload=()=>{t()}}n&&t()})),sendGaEvent:Fa});const Ha=async e=>{return"chatwoot"in e?(t=e.chatwoot,void Ga(t.scriptToExecute)):"googleAnalytics"in e?(async e=>{if(!e?.trackingId)return;const{default:t}=await Promise.resolve().then((function(){return Ka}));await t(e.trackingId),Fa(e)})(e.googleAnalytics):"scriptToExecute"in e?Ga(e.scriptToExecute):"redirect"in e?(({url:e,isNewTab:t})=>{if(!e)return;return window.open(e,t?"_blank":"_self")?void 0:{blockedPopupUrl:e}})(e.redirect):"wait"in e?(async({secondsToWaitFor:e})=>{await new Promise((t=>setTimeout(t,1e3*e)))})(e.wait):void 0;var t},Wa=le('<div class="flex flex-col animate-fade-in"><div class="flex mb-2 w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 rounded-lg bubble-typing " data-testid="host-bubble"></div><p class="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative opacity-0 h-6 text-ellipsis"></p></div></div></div>'),Ya=()=>(()=>{const e=Wa.cloneNode(!0),t=e.firstChild.firstChild.firstChild;return t.style.setProperty("width","4rem"),t.style.setProperty("height","2rem"),fe(t,F(at,{})),e})(),qa=le('<div class="flex w-full"><div class="flex flex-col w-full min-w-0"><div class="flex"><div class="flex-1"></div></div></div></div>'),Ja=e=>(()=>{const t=qa.cloneNode(!0),n=t.firstChild.firstChild,r=n.firstChild;return fe(n,F(X,{get when(){return e.theme.chat.hostAvatar?.isEnabled},get children(){return F(Da,{get hostAvatarSrc(){return e.theme.chat.hostAvatar?.url}})}}),r),fe(r,F(Ya,{})),k((()=>r.style.setProperty("margin-right",e.theme.chat.guestAvatar?.isEnabled?"50px":"0.5rem"))),t})(),Xa=le('<div class="w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow flex flex-col gap-2" role="alert"><span class="mb-1 text-sm font-semibold text-gray-900">Popup blocked</span><div class="mb-2 text-sm font-normal">The bot wants to open a new tab but it was blocked by your broswer. It needs a manual approval.</div><a target="_blank" class="py-1 px-4 justify-center text-sm font-semibold rounded-md text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 transition-all filter hover:brightness-90 active:brightness-75 typebot-button" rel="noreferrer">Continue in new tab</a></div>'),Qa=e=>(()=>{const t=Xa.cloneNode(!0),n=t.firstChild.nextSibling.nextSibling;return n.$$click=()=>e.onLinkClick(),k((()=>ce(n,"href",e.url))),t})();de(["click"]);const eo=le('<div class="overflow-y-scroll w-full min-h-full rounded px-3 pt-10 relative scrollable-container typebot-chat-view scroll-smooth"></div>'),to=le('<div class="flex justify-end"></div>'),no=le('<div class="w-full h-32"></div>'),ro=e=>{let t,n;const[r,a]=x([{input:e.initialChatReply.input,messages:e.initialChatReply.messages,clientSideActions:e.initialChatReply.clientSideActions}]),[o,i]=x(e.initialChatReply.dynamicTheme),[s,l]=x(e.initialChatReply.typebot.theme),[d,c]=x(!1),[u,p]=x();C((()=>{l(((e,t)=>({...e,chat:{...e.chat,hostAvatar:e.chat.hostAvatar&&t?.hostAvatarUrl?{...e.chat.hostAvatar,url:t.hostAvatarUrl}:e.chat.hostAvatar,guestAvatar:e.chat.guestAvatar&&t?.guestAvatarUrl?{...e.chat.guestAvatar,url:t?.guestAvatarUrl}:e.chat.guestAvatar}}))(e.initialChatReply.typebot.theme,o()))}));const h=async t=>{const n=r().at(-1)?.input?.id;n&&e.onAnswer&&t&&e.onAnswer({message:t,blockId:n});const o=setTimeout((()=>{c(!0)}),1e3),s=await async function({apiHost:e,...t}){return(await Pe({method:"POST",url:`${Ze(e)?e:We()}/api/v1/sendMessage`,body:t})).data}({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,message:t});if(clearTimeout(o),c(!1),s){if(s.logs&&e.onNewLogs?.(s.logs),s.dynamicTheme&&i(s.dynamicTheme),s.input?.id&&e.onNewInputBlock&&e.onNewInputBlock({id:s.input.id,groupId:s.input.groupId}),s.clientSideActions){const e=s.clientSideActions.filter((e=>Me(e.lastBubbleBlockId)));for(const t of e){const e=await Ha(t);e&&p(e.blockedPopupUrl)}}a((e=>[...e,{input:s.input,messages:s.messages,clientSideActions:s.clientSideActions}]))}},f=()=>{n&&setTimeout((()=>{t?.scrollTo(0,t.scrollHeight)}),50)},m=async()=>{const t=r().at(-1);t&&Me(t.input)&&e.onEnd?.()},g=async e=>{const t=r().at(-1);if(t&&t.clientSideActions){const n=t.clientSideActions.filter((t=>t.lastBubbleBlockId===e));for(const e of n){const t=await Ha(e);t&&p(t.blockedPopupUrl)}}},b=()=>h(void 0);return(()=>{const a=eo.cloneNode(!0);return"function"==typeof t?he(t,a):t=a,fe(a,F(J,{get each(){return r()},children:(t,n)=>F(Ua,{get inputIndex(){return n()},get messages(){return t.messages},get input(){return t.input},get theme(){return s()},get settings(){return e.initialChatReply.typebot.settings},get isLoadingBubbleDisplayed(){return d()},onNewBubbleDisplayed:g,onAllBubblesDisplayed:m,onSubmit:h,onScrollToBottom:f,onSkip:b,get context(){return e.context}})}),null),fe(a,F(X,{get when(){return d()},get children(){return F(Ja,{get theme(){return s()}})}}),null),fe(a,F(X,{get when(){return u()},keyed:!0,children:e=>(()=>{const t=to.cloneNode(!0);return fe(t,F(Qa,{url:e,onLinkClick:()=>p(void 0)})),t})()}),null),fe(a,F(ao,{ref(e){"function"==typeof n?n(e):n=e}}),null),a})()},ao=e=>(()=>{const t=no.cloneNode(!0),n=e.ref;return"function"==typeof n?he(n,t):e.ref=t,t})(),oo=le('<div class="h-full flex justify-center items-center flex-col"><p class="text-2xl text-center"></p></div>'),io=e=>(()=>{const t=oo.cloneNode(!0);return fe(t.firstChild,(()=>e.error.message)),t})(),so="resultId",lo=()=>{try{return sessionStorage.getItem(so)??void 0}catch{}};let co;!function(e){e.COLOR="Color",e.IMAGE="Image",e.NONE="None"}(co||(co={}));const uo={bgImage:"--typebot-container-bg-image",bgColor:"--typebot-container-bg-color",fontFamily:"--typebot-container-font-family"},po={hostBubbles:{bgColor:"--typebot-host-bubble-bg-color",color:"--typebot-host-bubble-color"},guestBubbles:{bgColor:"--typebot-guest-bubble-bg-color",color:"--typebot-guest-bubble-color"},inputs:{bgColor:"--typebot-input-bg-color",color:"--typebot-input-color",placeholderColor:"--typebot-input-placeholder-color"},buttons:{bgColor:"--typebot-button-bg-color",color:"--typebot-button-color"}},ho=(e,t)=>{const{background:n,font:r}=e;n&&vo(n,t),r&&t.setProperty(uo.fontFamily,r)},fo=(e,t)=>{const{hostBubbles:n,guestBubbles:r,buttons:a,inputs:o}=e;n&&mo(n,t),r&&go(r,t),a&&bo(a,t),o&&yo(o,t)},mo=(e,t)=>{e.backgroundColor&&t.setProperty(po.hostBubbles.bgColor,e.backgroundColor),e.color&&t.setProperty(po.hostBubbles.color,e.color)},go=(e,t)=>{e.backgroundColor&&t.setProperty(po.guestBubbles.bgColor,e.backgroundColor),e.color&&t.setProperty(po.guestBubbles.color,e.color)},bo=(e,t)=>{e.backgroundColor&&t.setProperty(po.buttons.bgColor,e.backgroundColor),e.color&&t.setProperty(po.buttons.color,e.color)},yo=(e,t)=>{e.backgroundColor&&t.setProperty(po.inputs.bgColor,e.backgroundColor),e.color&&t.setProperty(po.inputs.color,e.color),e.placeholderColor&&t.setProperty(po.inputs.placeholderColor,e.placeholderColor)},vo=(e,t)=>{t.setProperty(e?.type===co.IMAGE?uo.bgImage:uo.bgColor,e.type===co.NONE?"transparent":e.content??"#ffffff")},wo=le("<style></style>"),_o=le('<div><div class="flex w-full h-full justify-center"></div></div>'),xo=e=>{const[t,n]=x(),[r,a]=x(""),[o,i]=x(!1),[s,l]=x(),d=async()=>{i(!0);const t=new URLSearchParams(location.search);e.onInit?.();const r={};t.forEach(((e,t)=>{r[t]=e}));const{data:o,error:s}=await async function({typebot:e,isPreview:t,apiHost:n,prefilledVariables:r,startGroupId:a,resultId:o}){if(!e)throw new Error("Typebot ID is required to get initial messages");return Pe({method:"POST",url:`${Ze(n)?n:We()}/api/v1/sendMessage`,body:{startParams:{isPreview:t,typebot:e,prefilledVariables:r,startGroupId:a,resultId:o}}})}({typebot:e.typebot,apiHost:e.apiHost,isPreview:e.isPreview??!1,resultId:Ze(e.resultId)?e.resultId:lo(),startGroupId:e.startGroupId,prefilledVariables:{...r,...e.prefilledVariables}});if(s&&"code"in s&&"string"==typeof s.code)return["BAD_REQUEST","FORBIDDEN"].includes(s.code)&&l(new Error("This bot is now closed.")),void("NOT_FOUND"===s.code&&l(new Error("The bot you're looking for doesn't exist.")));if(!o)return l(new Error("Error! Couldn't initiate the chat."));o.resultId&&(e=>{try{sessionStorage.setItem(so,e)}catch{}})(o.resultId),n(o),a(o.typebot.theme.customCss??""),o.input?.id&&e.onNewInputBlock&&e.onNewInputBlock({id:o.input.id,groupId:o.input.groupId}),o.logs&&e.onNewLogs?.(o.logs);const d=o.typebot.settings.metadata.customHeadCode;d&&(e=>{e.split("</noscript>").forEach((e=>{const[t,n]=e.split("<noscript>"),r=document.createRange().createContextualFragment(t);if(document.head.append(r),Me(n))return;const a=document.createElement("noscript"),o=document.createRange().createContextualFragment(n);a.append(o),document.head.append(a)}))})(d)};return C((()=>{e.typebot&&!o()&&d().then()})),C((()=>{"string"!=typeof e.typebot&&a(e.typebot.theme.customCss??"")})),E((()=>{i(!1)})),[(()=>{const e=wo.cloneNode(!0);return fe(e,r),e})(),F(X,{get when(){return s()},keyed:!0,children:e=>F(io,{error:e})}),F(X,{get when(){return t()},keyed:!0,children:t=>F(ko,{get class(){return e.class},get initialChatReply(){return{...t,typebot:{...t.typebot,settings:"string"==typeof e.typebot?t.typebot?.settings:e.typebot?.settings,theme:"string"==typeof e.typebot?t.typebot?.theme:e.typebot?.theme}}},get context(){return{apiHost:e.apiHost,isPreview:"string"!=typeof e.typebot||(e.isPreview??!1),typebotId:t.typebot.id,resultId:t.resultId}},get onNewInputBlock(){return e.onNewInputBlock},get onNewLogs(){return e.onNewLogs},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd}})})]},ko=e=>{let t;const n=new ResizeObserver((e=>qe(e[0].target.clientWidth<400)));return $((()=>{(()=>{const t=document.createElement("link");t.href=`https://fonts.googleapis.com/css2?family=${e.initialChatReply.typebot?.theme?.general?.font??"Open Sans"}:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&display=swap');')`,t.rel="stylesheet",document.head.appendChild(t)})(),t&&n.observe(t)})),C((()=>{t&&((e,t)=>{if(!e)return;const n=t?.style;n&&(e.general&&ho(e.general,n),e.chat&&fo(e.chat,n))})(e.initialChatReply.typebot.theme,t)})),E((()=>{t&&n.unobserve(t)})),(()=>{const n=_o.cloneNode(!0),r=n.firstChild;return"function"==typeof t?he(t,n):t=n,fe(r,F(ro,{get context(){return e.context},get initialChatReply(){return e.initialChatReply},get onNewInputBlock(){return e.onNewInputBlock},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd},get onNewLogs(){return e.onNewLogs}})),fe(n,F(X,{get when(){return e.initialChatReply.typebot.settings.general.isBrandingEnabled},get children(){return F(He,{botContainer:t})}}),null),k((()=>ue(n,"relative flex w-full h-full text-base overflow-hidden bg-cover flex-col items-center typebot-container "+e.class))),n})()},Co=le("<style></style>"),So=le("<div></div>"),To=e=>{const[t,n]=q(e,["onOpen","onClose","previewMessage","onPreviewMessageClick","theme"]),[r,a]=x(n.prefilledVariables),[o,i]=x(!1),[s,l]=x({message:t.previewMessage?.message??"",avatarUrl:t.previewMessage?.avatarUrl}),[d,c]=x(!1),[u,p]=x(!1);$((()=>{window.addEventListener("message",h);const e=t.previewMessage?.autoShowDelay;Oe(e)&&setTimeout((()=>{y()}),e)})),E((()=>{window.removeEventListener("message",h)})),C((()=>{e.prefilledVariables&&a((t=>({...t,...e.prefilledVariables})))}));const h=e=>{const{data:t}=e;t.isFromTypebot&&("open"===t.command&&f(),"close"===t.command&&m(),"toggle"===t.command&&g(),"showPreviewMessage"===t.command&&y(t.message),"hidePreviewMessage"===t.command&&v(),"setPrefilledVariables"===t.command&&a((e=>({...e,...t.variables}))))},f=()=>{u()||p(!0),v(),c(!0),d()&&t.onOpen?.()},m=()=>{c(!1),d()&&t.onClose?.()},g=()=>{d()?m():f()},b=()=>{t.onPreviewMessageClick?.(),f()},y=e=>{e&&l(e),d()||i(!0)},v=()=>{i(!1)};return[(()=>{const e=Co.cloneNode(!0);return fe(e,$e),e})(),F(X,{get when(){return o()},get children(){return F(Fe,Y(s,{get previewMessageTheme(){return t.theme?.previewMessage},onClick:b,onCloseClick:v}))}}),F(De,Y((()=>t.theme?.button),{toggleBot:g,get isBotOpened(){return d()}})),(()=>{const e=So.cloneNode(!0);return e.style.setProperty("height","calc(100% - 80px)"),e.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),e.style.setProperty("transform-origin","bottom right"),e.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),e.style.setProperty("z-index","42424242"),fe(e,F(X,{get when(){return u()},get children(){return F(xo,Y(n,{get prefilledVariables(){return r()},class:"rounded-lg"}))}})),k((n=>{const r=d()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",a=t.theme?.chatWindow?.backgroundColor,o="fixed bottom-20 sm:right-4 rounded-lg w-full sm:w-[400px] max-h-[704px] "+(d()?"opacity-1":"opacity-0 pointer-events-none");return r!==n._v$&&e.style.setProperty("transform",n._v$=r),a!==n._v$2&&e.style.setProperty("background-color",n._v$2=a),o!==n._v$3&&ue(e,n._v$3=o),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()]},$o=le("<style></style>"),Eo=le('<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true"><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in"></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div class="relative h-[80vh] transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"></div></div></div></div>'),No=e=>{let t;const[n,r]=q(e,["onOpen","onClose","autoShowDelay","theme","isOpen","defaultOpen"]),[a,o]=x(r.prefilledVariables),[i,s]=x(n.isOpen??!1);$((()=>{n.defaultOpen&&c(),window.addEventListener("message",d);const e=n.autoShowDelay;Oe(e)&&setTimeout((()=>{c()}),e)})),E((()=>{window.removeEventListener("message",d)})),C((()=>{Me(e.isOpen)||e.isOpen===i()||p()})),C((()=>{e.prefilledVariables&&o((t=>({...t,...e.prefilledVariables})))}));const l=e=>{e.stopPropagation()},d=e=>{const{data:t}=e;t.isFromTypebot&&("open"===t.command&&c(),"close"===t.command&&u(),"toggle"===t.command&&p(),"setPrefilledVariables"===t.command&&o((e=>({...e,...t.variables}))))},c=()=>{s(!0),n.onOpen?.(),document.body.style.overflow="hidden",document.addEventListener("pointerdown",u),t?.addEventListener("pointerdown",l)},u=()=>{s(!1),n.onClose?.(),document.body.style.overflow="auto",document.removeEventListener("pointerdown",u),t?.removeEventListener("pointerdown",l)},p=()=>{i()?u():c()};return F(X,{get when(){return i()},get children(){return[(()=>{const e=$o.cloneNode(!0);return fe(e,$e),e})(),(()=>{const e=Eo.cloneNode(!0),n=e.firstChild,o=n.nextSibling.nextSibling.firstChild.firstChild;fe(n,$e);return"function"==typeof t?he(t,o):t=o,fe(o,F(xo,Y(r,{get prefilledVariables(){return a()}}))),e})()]}})},Ao=le("<style>\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow-y: hidden;\n}\n</style>"),Io=()=>{window.postMessage({isFromTypebot:!0,command:"close"})},Po=()=>{window.postMessage({isFromTypebot:!0,command:"hidePreviewMessage"})},Oo=()=>{window.postMessage({isFromTypebot:!0,command:"open"})},Mo=e=>{const t={isFromTypebot:!0,command:"setPrefilledVariables",variables:e};window.postMessage(t)},jo=e=>{const t={isFromTypebot:!0,command:"showPreviewMessage",message:e};window.postMessage(t)},Zo=()=>{window.postMessage({isFromTypebot:!0,command:"toggle"})},Lo=e=>{const t=e.id?document.getElementById(e.id):document.querySelector("typebot-standard");if(!t)throw new Error("<typebot-standard> element not found.");Object.assign(t,e)},Ro=e=>{const t=document.createElement("typebot-popup");Object.assign(t,e),document.body.appendChild(t)},Bo=e=>{const t=document.createElement("typebot-bubble");Object.assign(t,e),document.body.appendChild(t)};"undefined"!=typeof window&&(ke("typebot-standard",Ce,((e,{element:t})=>{const[n,r]=x(!1),a=new IntersectionObserver((e=>{e.some((e=>e.isIntersecting))&&r(!0)}));return $((()=>{a.observe(t)})),E((()=>{a.disconnect()})),[(()=>{const e=Ao.cloneNode(!0),t=e.firstChild;return fe(e,$e,t),e})(),F(X,{get when(){return n()},get children(){return F(xo,e)}})]})),ke("typebot-bubble",Te,To),ke("typebot-popup",Se,No));const zo={initStandard:Lo,initPopup:Ro,initBubble:Bo,close:Io,hidePreviewMessage:Po,open:Oo,setPrefilledVariables:Mo,showPreviewMessage:jo,toggle:Zo};(e=>{"undefined"!=typeof window&&(window.Typebot={...e})})(zo);export{zo as default};
