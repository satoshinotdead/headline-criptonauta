<script src="{{asset "built/main.min.js"}}"></script>
        <script>
            	if(typeof(Storage) == 'data-intro') {
                	if (!document.documentElement.hasAttribute('data-intro')) {
                	     document.querySelector('.home-template').classList.add('hidden-overflow');
                	     document.querySelector('.newsletter').classList.add('hidden-overflow');
                	}
            	}
        </script>
<script>

    // Dark/Light Mode
    
    var html = document.querySelector('html'),
    darkLight = document.querySelector('.it-dark-light')
    darkLight.addEventListener('click', function(){
       if(html.getAttribute('data-theme') === 'dark'){
           html.setAttribute('data-theme', 'light')
           localStorage.setItem('selected-theme', 'light');
       }else{
           html.setAttribute('data-theme', 'dark')
           localStorage.setItem('selected-theme', 'dark');
       }
       console.log(html.hasAttribute('data-theme'))
    });
    
    {{#is "home"}}
    // Intro Popup
    const readIssue = document.querySelector('.letme');
    readIssue.addEventListener('click', function(){
        console.log('clicked')
        html.setAttribute('data-intro', 'hide')
        localStorage.setItem('data-intro', 'hide');
        document.querySelector('.home-template').classList.remove('hidden-overflow');
        createCookie('data-intro', true, 1)
        
       console.log(html.hasAttribute('data-intro'))
       return false;
    });
    
    if (!readCookie('data-intro')) {
        localStorage.removeItem("data-intro");
    }
    // And some generic cookie logic
    function createCookie(name,value,days) {
      if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(60 * 60 * 1000));
        var expires = "; expires="+date.toGMTString();
      }
      else var expires = "";
      document.cookie = name+"="+value+expires+"; path=/";
    }
    
    function readCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }
    
    function eraseCookie(name) {
      createCookie(name,"",-1);
    }
            
    {{/is}}

</script>
<script>
  /**
 * Boilerplate Functions
 */
function posf (f, a) { for (var i=0; i < a.length; i++) { if (f(a[i])) return i; } return -1; }
function apos (x, a) { return (typeof x == 'function') ? posf(x,a) : Array.prototype.indexOf.call(a,x) }
function arem (a, x) { var i = apos(x, a); if (i >= 0) { a.splice(i, 1); } return a; }
function afind (x, a) { var i = apos(x, a); return (i >= 0) ? a[i] : null; }
function addClass (el, cl) { if (el) { var a = el.className.split(' '); if (!afind(cl, a)) { a.unshift(cl); el.className = a.join(' ')}} }
function remClass (el, cl) { if (el) { var a = el.className.split(' '); arem(a, cl); el.className = a.join(' ') } }


/**
 * Setup Variables
 */
var previousPosition = window.pageYOffset;
var navbar = document.getElementById("gh-burger");
var navbarHeight = navbar.offsetHeight;

if (previousPosition > navbarHeight) {
    addClass(navbar, 'headroom');
}


/**
 * Headroom Action
 */
window.onscroll = function() {
  
    var currentPosition = window.pageYOffset;
    var velocity = previousPosition - currentPosition;

    if (velocity > 55 || currentPosition < navbarHeight) {
      remClass(navbar, 'headroom');
    } else if (velocity < 0) {
      addClass(navbar, 'headroom');
    }

    previousPosition = currentPosition;
};
</script>