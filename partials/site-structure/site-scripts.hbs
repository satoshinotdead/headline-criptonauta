<script src="{{asset "built/main.min.js"}}"></script>
<script>

    // Dark/Light Mode
    
    var html = document.querySelector('html'),
    darkLight = document.querySelector('.it-dark-light')
    darkLight.addEventListener('click', function(){
       if(html.getAttribute('data-theme') === 'dark'){
           html.setAttribute('data-theme', 'light')
           localStorage.setItem('selected-theme', 'light');
       }else{
           html.setAttribute('data-theme', 'dark')
           localStorage.setItem('selected-theme', 'dark');
       }
       console.log(html.hasAttribute('data-theme'))
    });
    
    {{#is "home"}}
    // Intro Popup
    const readIssue = document.querySelector('.letme');
    readIssue.addEventListener('click', function(){
        console.log('clicked')
        html.setAttribute('data-intro', 'hide')
        localStorage.setItem('intro', 'hidden');
        document.querySelector('.home-template').classList.remove('hidden-overflow');
        createCookie('intro-added', true, 1)
        
       console.log(html.hasAttribute('data-intro'))
       return false;
    });
    
    if (!readCookie('intro-added')) {
        localStorage.removeItem("intro");
    }
    // And some generic cookie logic
    function createCookie(name,value,days) {
      if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(60 * 60 * 1000));
        var expires = "; expires="+date.toGMTString();
      }
      else var expires = "";
      document.cookie = name+"="+value+expires+"; path=/";
    }
    
    function readCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }
    
    function eraseCookie(name) {
      createCookie(name,"",-1);
    }
            
    {{/is}}

</script>
